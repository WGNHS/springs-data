!(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("lit-element"),require("wgnhs-common")):"function"==typeof define&&define.amd?define(["exports","lit-element","wgnhs-common"],e):e((t=t||self).lit={},t.common,t.common)})(this,function(t,e,a){"use strict";class r extends e.LitElement{static get properties(){return{file:{type:String}}}constructor(){super()}static get styles(){return e.css`a{text-decoration:none}.download-button:hover{color:var(--palette-900)}.download-button:focus{outline:thin dotted}.download-button{display:flex;flex-direction:row;justify-content:space-between;align-items:center;cursor:pointer;text-align:center;background:var(--palette-white);color:var(--palette-accent);border:1px solid var(--palette-light);border-radius:var(--border-radius);padding:var(--font-size);margin:var(--border-radius) 0}.download-button>div{display:flex;align-items:center}.icon{font-size:var(--icon-size-extra-large)}`}render(){return e.html`<style>@import url(https://fonts.googleapis.com/css?family=Open+Sans&display=swap);@import url(https://fonts.googleapis.com/icon?family=Material+Icons);body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);background-color:var(--palette-white)}body,h1,h2,h3,h4,h5,p{color:var(--palette-black);font-family:var(--font-family);padding:0;margin:0;box-sizing:border-box}h1,h2,h3,h4,h5{padding:.25em 0 .75em 0;font-weight:var(--font-weight-bold)}h1{font-size:var(--font-size-extra-large);color:var(--palette-accent)}h2{font-size:var(--font-size-large)}p{line-height:1.4em;margin:0 0 1em 0}a{color:var(--palette-900);cursor:pointer;text-decoration-line:underline;text-decoration-style:dashed;text-decoration-color:var(--palette-900)}</style><a class=download-button href=${this.file} target=_blank download><div><span>Download</span></div><div><i class="icon material-icons" title=Download>save_alt</i></div></a>`}}customElements.define("download-section",r);class n extends e.LitElement{static get properties(){return{inName:{type:String,attribute:"in-name"},choices:{type:Array},choice:{type:String,reflect:!0}}}constructor(){super(),this.checked=[],this.genId=(function(){const t={};return function(e){return t[e]||(t[e]=a.genId()),t[e]}})()}firstUpdated(){!this.choice&&this.choices&&(this.choice=this.choices[0])}inChange(t){this.choice=t.target.value;let e=new CustomEvent("choice-change",{detail:{choice:this.choice}});this.dispatchEvent(e)}render(){return e.html`${this.choices.map((t,a)=>e.html`<div class=choice><input type=radio name=${this.inName} id=${this.genId(a)} value=${t} .checked=${this.choice===t} @change=${this.inChange}> <label for=${this.genId(a)}>${t}</label></div>`)}`}}customElements.define("in-radio",n);class i extends e.LitElement{static get properties(){return{genId:{type:String,attribute:!1},open:{type:Boolean,reflect:!0},button:{type:Boolean}}}constructor(){super(),this.genId=a.genId()}static get styles(){return e.css`.wrap-collapsible{margin:var(--border-radius) 0}input[type=checkbox]{display:none}.lbl-toggle{display:block;font-weight:var(--font-weight-bold);font-size:var(--font-size-extra-large);text-align:center;padding:var(--border-radius);color:var(--palette-accent);background:var(--palette-light);cursor:pointer;border-radius:var(--border-radius);transition:all .3s cubic-bezier(.755,.05,.855,.06)}.lbl-toggle:hover{color:var(--palette-900)}.lbl-toggle:focus{outline:thin dotted}.collapsible-content{max-height:0;overflow:hidden;transition:max-height .3s cubic-bezier(.86,0,.07,1)}.wrap-collapsible:not([button]) .toggle:checked~.collapsible-content{max-height:var(--collapsible-max-height,3000px)}.wrap-collapsible:not([button]) .toggle:checked~.lbl-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0;transition:border 0s}.collapsible-content .content-inner{background:var(--palette-white);border-bottom:1px solid var(--palette-light);border-right:1px solid var(--palette-light);border-left:1px solid var(--palette-light);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);padding:var(--font-size)}.collapsible-header{display:flex;flex-direction:row;align-items:center;justify-content:space-between}`}render(){return e.html`<div class=wrap-collapsible ?button=${this.button}><input id=${this.genId} class=toggle type=checkbox ?checked=${this.open} @change=${this._handleChange}> <label for=${this.genId} class=lbl-toggle tabindex=0><div class=collapsible-header><div><slot name=header-before></slot></div><div><slot name=header></slot></div><div><slot name=header-after></slot></div></div></label><div class=collapsible-content><div class=content-inner><slot name=content></slot></div></div></div>`}firstUpdated(){let t=this.renderRoot.querySelectorAll(".lbl-toggle");Array.from(t).forEach(t=>{t.addEventListener("keydown",e=>{32!==e.which&&13!==e.which||(e.preventDefault(),t.click())})})}updated(t){t.has("open")&&a.dispatch(this,"open",{value:this.open})}_handleChange(t){this.open=t.target.checked}}customElements.define("app-collapsible",i);class o extends e.LitElement{static get properties(){return{title:{type:String},tabs:{type:Array}}}constructor(){super()}static get styles(){return e.css`:host{padding:0 var(--border-radius)}`}switchTab(t){this.shadowRoot.querySelectorAll("slot").forEach(e=>{"default"===t&&!e.getAttribute("name")||e.getAttribute("name")===t?e.hidden=!1:e.hidden=!0})}handleChoiceChange(t){this.switchTab(t.detail.choice)}render(){return e.html`${this.title?e.html`<h1 class=header>${this.title}</h1>`:""}<slot></slot>${this.tabs?this.tabs.map(t=>e.html`<slot name=${t} hidden></slot>`):""}`}}customElements.define("app-sidebar",o);const s=[e.css`a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}:focus{outline:0}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{-webkit-appearance:none;-moz-appearance:none}input[type=search]{-webkit-appearance:none;-moz-appearance:none;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}textarea{overflow:auto;vertical-align:top;resize:vertical}audio,canvas,video{display:inline-block;max-width:100%}audio:not([controls]){display:none;height:0}[hidden]{display:none}html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a:focus{outline:thin dotted}a:active,a:hover{outline:0}img{border:0;-ms-interpolation-mode:bicubic}figure{margin:0}form{margin:0}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0;white-space:normal}button,input,select,textarea{font-size:100%;margin:0;vertical-align:baseline}button,input{line-height:normal}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}button,html,input,select,textarea{color:#222}::-moz-selection{background:#b3d4fc;text-shadow:none}::selection{background:#b3d4fc;text-shadow:none}img{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}.chromeframe{margin:.2em 0;background:#ccc;color:#000;padding:.2em 0}`,...[e.css`@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Open Sans Regular'),local('OpenSans-Regular'),url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFWJ0bbck.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Open Sans Regular'),local('OpenSans-Regular'),url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFUZ0bbck.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Open Sans Regular'),local('OpenSans-Regular'),url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFWZ0bbck.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Open Sans Regular'),local('OpenSans-Regular'),url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVp0bbck.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Open Sans Regular'),local('OpenSans-Regular'),url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFWp0bbck.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Open Sans Regular'),local('OpenSans-Regular'),url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFW50bbck.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Open Sans Regular'),local('OpenSans-Regular'),url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0b.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}`,e.css`@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v48/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format('woff2')}.material-icons{font-family:'Material Icons';font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}`,e.css`body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);background-color:var(--palette-white)}body,h1,h2,h3,h4,h5,p{color:var(--palette-black);font-family:var(--font-family);padding:0;margin:0;box-sizing:border-box}h1,h2,h3,h4,h5{padding:var(--border-radius) 0 var(--font-size-small) 0;font-weight:var(--font-weight-bold)}h1{font-size:var(--font-size-extra-large);color:var(--palette-accent)}h2{font-size:var(--font-size-large)}p{line-height:var(--line-height);margin:0 0 var(--font-size) 0}a{color:var(--palette-900);cursor:pointer;text-decoration-line:underline;text-decoration-style:dashed;text-decoration-color:var(--palette-900)}`]];class l extends e.LitElement{static get properties(){return{open:{type:Boolean,attribute:"open-modal",reflect:!0},source:{type:String}}}constructor(){super(),this.open=!1}static get styles(){return[...s,e.css`.modal{position:fixed;background:var(--palette-accent-transparent);top:0;left:0;right:0;bottom:0;z-index:var(--z-index-interrupt);display:flex;align-items:center;justify-content:center}.modal-window{position:relative;padding:.5em;border-radius:var(--border-radius);background:var(--palette-light)}.modal-content{max-height:90vh;max-width:90vw}.modal-close{position:absolute;top:0;right:0;border-radius:var(--border-radius)}.control{display:flex;justify-content:center;align-items:center;font-size:var(--icon-size-large);color:var(--palette-accent);text-align:center;cursor:pointer;padding:var(--border-radius);background-color:var(--palette-light);border:none;border-radius:50%}[data-closed]{display:none}`]}render(){return e.html`<div class="modal b-close-modal" role=dialog aria-hidden=true ?data-closed=${!this.open} @click=${this.handleClick}><div class=modal-window><button class="control modal-close b-close-modal"><i class="material-icons b-close-modal" title=Hide>close</i></button> ${this.source?e.html`<img class=modal-content src=${this.source}>`:""}</div></div>`}toggleOpen(){this.open=!this.open}handleClick(t){t.target.classList.contains("b-close-modal")&&this.toggleOpen()}}customElements.define("modal-dialog",l);class c extends e.LitElement{static get properties(){return{}}constructor(){super()}static get styles(){return e.css`.loader{color:var(--palette-900);font-size:90px;text-indent:-9999em;overflow:hidden;width:1em;height:1em;border-radius:50%;margin:72px auto;position:relative;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation:load6 1.7s infinite ease,round 1.7s infinite ease;animation:load6 1.7s infinite ease,round 1.7s infinite ease}@-webkit-keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}100%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}100%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@-webkit-keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}`}render(){return e.html`<div class=loader>Loading...</div>`}}customElements.define("app-spinner",c);customElements.define("button-link",class extends e.LitElement{static get properties(){return{href:{type:String},target:{type:String},download:{type:Boolean}}}constructor(){super()}static get styles(){return e.css`a{text-decoration:none;margin:var(--border-radius) 0}.button-link:hover{color:var(--palette-900)}.button-link:focus{outline:thin dotted}.button-link{display:block;font-weight:var(--font-weight-bold);font-size:var(--font-size-extra-large);text-align:center;cursor:pointer;text-align:center;background:var(--palette-light);color:var(--palette-accent);border-radius:var(--border-radius);padding:var(--border-radius)}.wrap-content{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.icon{font-size:var(--icon-size-extra-large)}`}render(){return e.html`<a class=button-link href=${this.href} target=${this.target} ?download=${this.download}><div class=wrap-content><div><slot name=content-before></slot></div><div><slot name=content></slot></div><div><slot name=content-after></slot></div></div></a>`}});const d=window["pdfjs-dist/build/pdf"],m="toggle-pdf-panel";class h{render(t){if(t){let e=document.createElement("canvas");return d.getDocument(t).promise.then(function(t){return t.getPage(1)}).then(function(t){var a=t.getViewport({scale:1}),r=e,n=r.getContext("2d");r.height=a.height,r.width=a.width;var i={canvasContext:n,viewport:a};return t.render(i).promise}).then(function(){return e.toDataURL()})}return Promise.reject(null)}}class p extends e.LitElement{static get properties(){return{pdfsrc:{type:String,attribute:!1},rotate:{type:Number},zoom:{type:Number}}}constructor(){super(),this.cache={},this.renderer=new h,this.rotate=0,this.zoom=1}static get styles(){return[...s,e.css`:host{overflow:auto}.container{min-height:10em;display:grid;grid-column-template:1fr;grid-gap:var(--border-radius);justify-content:center}.content{max-width:45vw}.controls{display:grid;grid-column-template:1fr;grid-gap:var(--border-radius);position:absolute;top:0;right:var(--border-radius);margin:var(--border-radius);z-index:10}.control{display:flex;justify-content:center;align-items:center;font-size:var(--icon-size-large);color:var(--palette-accent);text-align:center;cursor:pointer;padding:var(--border-radius);background-color:var(--palette-light);border:none;border-radius:50%}[data-closed]{display:none}`]}render(){return e.html`<div class=controls><button class=control @click=${this.hide}><i class=material-icons title=Hide>close</i></button> <button class=control @click=${this.zoomIn} ?disabled=${this.isMaxZoom}><i class=material-icons title="Zoom In">zoom_in</i></button> <button class=control @click=${this.zoomOut} ?disabled=${this.isMinZoom}><i class=material-icons title="Zoom Out">zoom_out</i></button> <button class=control @click=${this.rotateLeft}><i class=material-icons title="Rotate Left">rotate_left</i></button> <button class=control @click=${this.rotateRight}><i class=material-icons title="Rotate Right">rotate_right</i></button></div><app-spinner ?data-closed=${this.imgsrc}></app-spinner><div class=container ?data-closed=${!this.imgsrc}>${this.imageTag}<slot></slot></div>`}get imgsrc(){return this.cache[this.pdfsrc]}static get MOD_ROTATE(){return 4}get rotate(){return this._rotate}set rotate(t){const e=this.rotate;let a=Math.round(t)+p.MOD_ROTATE;this._rotate=a%p.MOD_ROTATE,this.requestUpdate("rotate",e)}rotateLeft(){this.rotate-=1}rotateRight(){this.rotate+=1}static get MAX_ZOOM(){return 2}get isMaxZoom(){return this.zoom>=p.MAX_ZOOM}static get MIN_ZOOM(){return.5}get isMinZoom(){return this.zoom<=p.MIN_ZOOM}get zoom(){return this._zoom}set zoom(t){const e=this.zoom;this._zoom=Math.min(Math.max(t,p.MIN_ZOOM),p.MAX_ZOOM),this.requestUpdate("zoom",e)}zoomIn(){this.zoom+=.25}zoomOut(){this.zoom-=.25}get translate(){let t={x:0,y:0};return this.rotate&&(t.x=1===this.rotate?0:100*this.zoom,t.y=3===this.rotate?0:100*this.zoom),t}get imageTag(){return this.imgsrc?e.html`<img class=content src=${this.imgsrc} style=${this.contentTransform}>`:""}get contentTransform(){let t=this.rotate/p.MOD_ROTATE,e=this.zoom,a=this.translate;return`\n      transform-origin: top left;\n      transform: rotate(${t}turn) translate(-${a.x}%, -${a.y}%) scale(${e})\n      `}show(t){this.dispatchEvent(new CustomEvent(m,{bubbles:!0,composed:!0,detail:{url:t,closed:!1}})),this.pdfsrc=t,this.removeAttribute("data-closed")}hide(){this.pdfsrc=null,this.setAttribute("data-closed",!0),this.dispatchEvent(new CustomEvent(m,{bubbles:!0,composed:!0,detail:{closed:!0}}))}_getFromCache(t){return new Promise((e,a)=>{let r=this.cache[t];r?e(r):a("Not in cache")})}request(t){return this._getFromCache(t).catch(()=>this.renderer.render(t).then(e=>(this.cache[t]=e,this.requestUpdate("cache"),e)))}}customElements.define("pdf-view-panel",p);class u extends e.LitElement{static get properties(){return{src:{type:String},panel:{type:Object,attribute:!1},missing:{type:Boolean,attribute:!1}}}constructor(){super(),this.missing=!0,this.alt=!1}static get styles(){return[...s,e.css`.container{display:grid;grid-template-columns:1fr 1fr;grid-gap:var(--border-radius)}[data-closed]{display:none}`]}render(){return e.html`<div class=container ?data-closed=${this.missing}><button-link href=${this.src} target=_blank download><i slot=content-before class=material-icons title=Download>save_alt</i> <span slot=content>Download</span></button-link><app-collapsible @open=${this.toggle} button><span slot=header>View</span> <i slot=header-after class=material-icons title=View>${this.alt?"chevron_left":"chevron_right"}</i></app-collapsible></div>`}updated(t){(t.has("panel")||t.has("src"))&&(this.handleMissingPDF(),this.panel&&this.src&&this.panel.request(this.src).then(this.handleLoadedPDF.bind(this),this.handleMissingPDF.bind(this)))}toggle(t){this.alt?this.panel.hide():this.panel.show(this.src)}handleMissingPDF(){this.missing||(this.missing=!0)}handleLoadedPDF(){this.missing&&(this.missing=!1)}handleAlt(t){t.detail.url===this.src?this.alt=!0:this.alt=!1,this.requestUpdate()}connectedCallback(){super.connectedCallback(),this.__altHandler=this.handleAlt.bind(this),document.addEventListener(m,this.__altHandler)}disconnectedCallback(){document.removeEventListener(m,this.__altHandler),super.disconnectedCallback()}}customElements.define("pdf-view-button",u);class g extends e.LitElement{static get properties(){return{siteinfo:Object}}constructor(){super()}static get styles(){return e.css`text{font-size:var(--font-size-small);font-weight:700;fill:#414c43}.container{display:flex;flex-direction:column;align-items:center}`}render(){return e.html`<div class=container><svg id=bed-materials-chart></svg></div>`}firstUpdated(){this.chart=d3.select(this.renderRoot.querySelector("#bed-materials-chart"))}updated(){var t=Math.min(500,300)/2-30;this.chart.attr("width",500).attr("height",300);var e=this.chart.append("g").attr("transform","translate(250,150)"),a=e.append("g").attr("class","donutSegments"),r=(e.append("g").attr("class","chartLabels"),e.append("g").attr("class","leaderLines"),[{material:"organic",percent:this.siteinfo.Percent_organic,color:"#406058"},{material:"fines",percent:this.siteinfo.Percent_fines,color:"#adcaba"},{material:"sand",percent:this.siteinfo.Percent_sand,color:"#b7b098"},{material:"gravel",percent:this.siteinfo.Percent_gravel,color:"#cccccc"},{material:"cobble",percent:this.siteinfo.Percent_cobble,color:"#7b6888"},{material:"boulder",percent:this.siteinfo.Percent_boulder,color:"#514b47"},{material:"bedrock",percent:this.siteinfo.Percent_bedrock,color:"#98abc5"}]),n=d3.pie().sort(null).value(function(t){return t.percent})(r).filter(function(t){return t.value>0}),i=d3.arc().outerRadius(t).innerRadius(t-45).padAngle(.025);function o(t){return t.startAngle+(t.endAngle-t.startAngle)/2}a.selectAll("path").data(n).enter().append("path").attr("d",i).attr("fill",function(t){return t.data.color}).style("opacity",1);var s=d3.arc().innerRadius(1.1*t).outerRadius(1.1*t);this.chart.select(".chartLabels").selectAll("text").data(n).enter().append("text").html(function(t){return t.data.percent+"% "+t.data.material}).attr("dy",".35em").attr("transform",function(e){var a=s.centroid(e);return a[0]=1.15*t*(o(e)<Math.PI?1:-1),"translate("+a+")"}).style("text-anchor",function(t){return o(t)<Math.PI?"start":"end"}),this.chart.select(".leaderLines").selectAll("polyline").data(n).enter().append("polyline").attr("stroke","#333333").attr("stroke-width",1).style("fill","none").attr("points",function(e){var a=s.centroid(e);return a[0]=1.1*t*(o(e)<Math.PI?1:-1),[i.centroid(e),s.centroid(e),a]})}}customElements.define("site-bed-materials",g);class f extends e.LitElement{static get properties(){return{siteinfo:Object}}constructor(){super()}static get styles(){return e.css`
            .label{
               font-weight: bold;
            }
            .tick {
               font-size: 13px;

               /* why did I have to add this in?? */
               font-family: 'open_sansregular','Open Sans',sans_serif; 

               color: #777;
            }
            .tick line {
               stroke: #777;
            }
            .annotation {
               font-size: 14px;
            }

            .container {
               display: flex;
               flex-direction: column;
               align-items: center;
            }
        `}render(){return e.html`
        <div class="container">
        <!-- <h2>Water quality</h2> -->
        
       <!-- <span class="label">conductivity: </span><span>${this.siteinfo.Conductivity_uS}</span><br> -->
         <svg id="conductivity-chart"></svg><br>
       <!-- <span class="label">temperature: </span><span>${this.siteinfo.Water_Temp_C}</span><br> -->
         <svg id="temperature-chart"></svg><br>
       <!-- <span class="label">pH: </span><span>${this.siteinfo.pH}</span><br> -->
         <svg id="ph-chart"></svg>
        </div>
    `}firstUpdated(){this.phchart=d3.select(this.renderRoot.querySelector("#ph-chart")),this.temperaturechart=d3.select(this.renderRoot.querySelector("#temperature-chart")),this.conductivitychart=d3.select(this.renderRoot.querySelector("#conductivity-chart"))}updated(){this.siteinfo.pH,this.siteinfo.Water_Temp_C,this.siteinfo.Conductivity_uS;var t={svg:this.phchart,label:"pH",attributeKey:"pH",tickValues:[5.5,6,6.5,7,7.5,8,8.5,9,9.5,10],chartMin:5.5,chartMax:10,svgWidth:400,siteInfo:this.siteinfo,allData:aggrData.data},e={svg:this.temperaturechart,label:"Temperature (C)",attributeKey:"Water_Temp_C",tickValues:[5,7,9,11,13,15,17],chartMin:5,chartMax:17,svgWidth:400,siteInfo:this.siteinfo,allData:aggrData.data},a={svg:this.conductivitychart,label:"Conductivity (uS)",attributeKey:"Conductivity_uS",tickValues:[0,250,500,750,1e3,1250,1500,1750],chartMin:0,chartMax:1750,svgWidth:400,siteInfo:this.siteinfo,allData:aggrData.data};b.draw(e),b.draw(t),b.draw(a)}}customElements.define("site-water-quality",f);var b={draw:function(t){var e=t.svgWidth,a=40,r=20,n=e-r-20,i=110-a-40;t.svg.attr("width",e).attr("height",110);var o=t.svg.append("g").attr("class","chartgroup").attr("transform","translate("+r+", "+a+")"),s=d3.scaleLinear().domain([t.chartMin,t.chartMax]).range([0,n]),l=d3.scaleBand().domain([""]).rangeRound([0,i]);o.append("g").attr("class","x-axis").attr("transform","translate(0,"+i+")").call(d3.axisBottom(s).tickSizeInner(-i).tickSizeOuter(0).tickPadding(5).tickValues(t.tickValues)).call(t=>t.select(".domain").remove()),o.append("g").attr("class","y-axis").call(d3.axisLeft(l).tickSizeInner(-n).tickSizeOuter(0).tickPadding(0)).call(t=>t.select(".domain").remove()).call(t=>t.selectAll("text").remove());var c=o.append("g").attr("class","circles"),d=i;c.selectAll("circle").data(t.allData).enter().append("circle").attr("cx",function(e){return s(e[t.attributeKey])}).attr("cy",function(t){return i/2-d/2+Math.random()*d}).attr("r",3).attr("fill","#406058").attr("opacity","0.7");var m=o.append("g").attr("class","annotation"),h=[{rrr:t.siteInfo[t.attributeKey]}];m.selectAll("circle").data(h).enter().append("circle").attr("cx",function(t){return s(t.rrr)}).attr("cy",function(t){return i/2}).attr("r",5).attr("fill","#406058").attr("stroke","#000").attr("stroke-width",2).attr("opacity","0.85"),m.selectAll("polyline").data(h).enter().append("polyline").attr("stroke","#333333").attr("stroke-width",2).style("fill","none").attr("points",function(t){var e=[0,0];e[0]=s(t.rrr),e[1]=i/2-5;var a=[0,0];return a[0]=s(t.rrr),a[1]=i/2-5-20,[e,a]}),m.selectAll("text").data(h).enter().append("text").attr("font-weight","bold").html(function(e){return t.label+": "+e.rrr}).attr("transform",function(t){var e=[0,0];return e[0]=s(t.rrr),e[1]=i/2-5-20-5,"translate("+e+")"}).style("text-anchor","middle")}};t.AppCollapsible=i,t.AppSidebar=o,t.AppSpinner=c,t.DownloadSection=r,t.InRadio=n,t.ModalDialog=l,t.PDFViewButton=u,t.PDFViewPanel=p,t.SiteBedMaterials=g,t.SiteWaterQuality=f,t.styles=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map
