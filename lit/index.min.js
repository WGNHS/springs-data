!(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("lit-element"),require("wgnhs-common")):"function"==typeof define&&define.amd?define(["exports","lit-element","wgnhs-common"],e):e((t=t||self).lit={},t.common,t.common)})(this,function(t,e,a){"use strict";class r extends e.LitElement{static get properties(){return{file:{type:String}}}constructor(){super()}static get styles(){return e.css`a{text-decoration:none}.download-button:hover{color:var(--palette-900)}.download-button:focus{outline:thin dotted}.download-button{display:flex;flex-direction:row;justify-content:space-between;align-items:center;cursor:pointer;text-align:center;background:var(--palette-white);color:var(--palette-accent);border:1px solid var(--palette-light);border-radius:var(--border-radius);padding:var(--font-size);margin:var(--border-radius) 0}.download-button>div{display:flex;align-items:center}.icon{font-size:var(--icon-size-extra-large)}`}render(){return e.html`<style>@import url(https://fonts.googleapis.com/css?family=Open+Sans&display=swap);@import url(https://fonts.googleapis.com/icon?family=Material+Icons);body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);background-color:var(--palette-white)}body,h1,h2,h3,h4,h5,p{color:var(--palette-black);font-family:var(--font-family);padding:0;margin:0;box-sizing:border-box}h1,h2,h3,h4,h5{padding:.25em 0 .75em 0;font-weight:var(--font-weight-bold)}h1{font-size:var(--font-size-extra-large);color:var(--palette-accent)}h2{font-size:var(--font-size-large)}p{line-height:1.4em;margin:0 0 1em 0}a{color:var(--palette-900);cursor:pointer;text-decoration-line:underline;text-decoration-style:dashed;text-decoration-color:var(--palette-900)}</style><a class=download-button href=${this.file} target=_blank download><div><span>Download</span></div><div><i class="icon material-icons" title=Download>save_alt</i></div></a>`}}customElements.define("download-section",r);class i extends e.LitElement{static get properties(){return{inName:{type:String,attribute:"in-name"},choices:{type:Array},choice:{type:String,reflect:!0}}}constructor(){super(),this.checked=[],this.genId=(function(){const t={};return function(e){return t[e]||(t[e]=a.genId()),t[e]}})()}firstUpdated(){!this.choice&&this.choices&&(this.choice=this.choices[0])}inChange(t){this.choice=t.target.value;let e=new CustomEvent("choice-change",{detail:{choice:this.choice}});this.dispatchEvent(e)}render(){return e.html`${this.choices.map((t,a)=>e.html`<div class=choice><input type=radio name=${this.inName} id=${this.genId(a)} value=${t} .checked=${this.choice===t} @change=${this.inChange}> <label for=${this.genId(a)}>${t}</label></div>`)}`}}customElements.define("in-radio",i);class o extends e.LitElement{static get properties(){return{genId:{type:String,attribute:!1},open:{type:Boolean,reflect:!0},button:{type:Boolean}}}constructor(){super(),this.genId=a.genId()}static get styles(){return e.css`.wrap-collapsible{margin:var(--border-radius) 0}input[type=checkbox]{display:none}.lbl-toggle{display:block;font-weight:var(--font-weight-bold);font-size:var(--font-size-extra-large);text-align:center;padding:var(--border-radius);color:var(--palette-accent);background:var(--palette-light);cursor:pointer;border-radius:var(--border-radius);transition:all .3s cubic-bezier(.755,.05,.855,.06)}.lbl-toggle:hover{color:var(--palette-900)}.lbl-toggle:focus{outline:thin dotted}.collapsible-content{max-height:0;overflow:hidden;transition:max-height .3s cubic-bezier(.86,0,.07,1)}.wrap-collapsible:not([button]) .toggle:checked~.collapsible-content{max-height:var(--collapsible-max-height,3000px)}.wrap-collapsible:not([button]) .toggle:checked~.lbl-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0;transition:border 0s}.collapsible-content .content-inner{background:var(--palette-white);border-bottom:1px solid var(--palette-light);border-right:1px solid var(--palette-light);border-left:1px solid var(--palette-light);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);padding:var(--font-size)}.collapsible-header{display:flex;flex-direction:row;align-items:center;justify-content:space-between}`}render(){return e.html`<div class=wrap-collapsible ?button=${this.button}><input id=${this.genId} class=toggle type=checkbox ?checked=${this.open} @change=${this._handleChange}> <label for=${this.genId} class=lbl-toggle tabindex=0><div class=collapsible-header><div><slot name=header-before></slot></div><div><slot name=header></slot></div><div><slot name=header-after></slot></div></div></label><div class=collapsible-content><div class=content-inner><slot name=content></slot></div></div></div>`}firstUpdated(){let t=this.renderRoot.querySelectorAll(".lbl-toggle");Array.from(t).forEach(t=>{t.addEventListener("keydown",e=>{32!==e.which&&13!==e.which||(e.preventDefault(),t.click())})})}updated(t){t.has("open")&&a.dispatch(this,"open",{value:this.open})}_handleChange(t){this.open=t.target.checked}}customElements.define("app-collapsible",o);class n extends e.LitElement{static get properties(){return{title:{type:String}}}constructor(){super()}static get styles(){return e.css`:host{padding:0 var(--border-radius)}`}switchTab(t){this.shadowRoot.querySelectorAll("slot").forEach(e=>{"default"===t&&!e.getAttribute("name")||e.getAttribute("name")===t?e.hidden=!1:e.hidden=!0})}handleChoiceChange(t){this.switchTab(t.detail.choice)}render(){return e.html`<style>@import url(https://fonts.googleapis.com/css?family=Open+Sans&display=swap);@import url(https://fonts.googleapis.com/icon?family=Material+Icons);body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);background-color:var(--palette-white)}body,h1,h2,h3,h4,h5,p{color:var(--palette-black);font-family:var(--font-family);padding:0;margin:0;box-sizing:border-box}h1,h2,h3,h4,h5{padding:.25em 0 .75em 0;font-weight:var(--font-weight-bold)}h1{font-size:var(--font-size-extra-large);color:var(--palette-accent)}h2{font-size:var(--font-size-large)}p{line-height:1.4em;margin:0 0 1em 0}a{color:var(--palette-900);cursor:pointer;text-decoration-line:underline;text-decoration-style:dashed;text-decoration-color:var(--palette-900)}</style>${this.title?e.html`<h1 class=header>${this.title}</h1>`:""}<slot></slot><slot name=details hidden></slot>`}}customElements.define("app-sidebar",n);class s extends e.LitElement{static get properties(){return{open:{type:Boolean,attribute:"open-modal",reflect:!0},source:{type:String}}}constructor(){super(),this.open=!1}static get styles(){return e.css`.modal{position:fixed;background:var(--palette-accent-transparent);top:0;left:0;right:0;bottom:0;z-index:var(--z-index-interrupt);display:flex;align-items:center;justify-content:center}.modal-window{position:relative;padding:.5em;border-radius:var(--border-radius);background:var(--palette-light)}.modal-content{max-height:90vh;max-width:90vw}.modal-close{position:absolute;top:0;right:0;border-radius:var(--border-radius)}[data-closed]{display:none}`}render(){return e.html`<style>@import url(https://fonts.googleapis.com/css?family=Open+Sans&display=swap);@import url(https://fonts.googleapis.com/icon?family=Material+Icons);body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);background-color:var(--palette-white)}body,h1,h2,h3,h4,h5,p{color:var(--palette-black);font-family:var(--font-family);padding:0;margin:0;box-sizing:border-box}h1,h2,h3,h4,h5{padding:.25em 0 .75em 0;font-weight:var(--font-weight-bold)}h1{font-size:var(--font-size-extra-large);color:var(--palette-accent)}h2{font-size:var(--font-size-large)}p{line-height:1.4em;margin:0 0 1em 0}a{color:var(--palette-900);cursor:pointer;text-decoration-line:underline;text-decoration-style:dashed;text-decoration-color:var(--palette-900)}</style><div class="modal b-close-modal" role=dialog aria-hidden=true ?data-closed=${!this.open} @click=${this.handleClick}><div class=modal-window><button class="modal-close b-close-modal">X</button> ${this.source?e.html`<img class=modal-content src=${this.source}>`:""}</div></div>`}toggleOpen(){this.open=!this.open}handleClick(t){t.target.classList.contains("b-close-modal")&&this.toggleOpen()}}customElements.define("modal-dialog",s);class l extends e.LitElement{static get properties(){return{}}constructor(){super()}static get styles(){return e.css`.loader{color:var(--palette-900);font-size:90px;text-indent:-9999em;overflow:hidden;width:1em;height:1em;border-radius:50%;margin:72px auto;position:relative;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation:load6 1.7s infinite ease,round 1.7s infinite ease;animation:load6 1.7s infinite ease,round 1.7s infinite ease}@-webkit-keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}100%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}100%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@-webkit-keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes round{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}`}render(){return e.html`<div class=loader>Loading...</div>`}}customElements.define("app-spinner",l);customElements.define("button-link",class extends e.LitElement{static get properties(){return{href:{type:String},target:{type:String},download:{type:Boolean}}}constructor(){super()}static get styles(){return e.css`a{text-decoration:none;margin:var(--border-radius) 0}.button-link:hover{color:var(--palette-900)}.button-link:focus{outline:thin dotted}.button-link{display:block;font-weight:var(--font-weight-bold);font-size:var(--font-size-extra-large);text-align:center;cursor:pointer;text-align:center;background:var(--palette-light);color:var(--palette-accent);border-radius:var(--border-radius);padding:var(--border-radius)}.wrap-content{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.icon{font-size:var(--icon-size-extra-large)}`}render(){return e.html`<a class=button-link href=${this.href} target=${this.target} ?download=${this.download}><div class=wrap-content><div><slot name=content-before></slot></div><div><slot name=content></slot></div><div><slot name=content-after></slot></div></div></a>`}});const c=window["pdfjs-dist/build/pdf"],d="toggle-pdf-panel";class h{render(t){if(t){let e=document.createElement("canvas");return c.getDocument(t).promise.then(function(t){return t.getPage(1)}).then(function(t){var a=t.getViewport({scale:1}),r=e,i=r.getContext("2d");r.height=a.height,r.width=a.width;var o={canvasContext:i,viewport:a};return t.render(o).promise}).then(function(){return e.toDataURL()})}return Promise.reject(null)}}class m extends e.LitElement{static get properties(){return{pdfsrc:{type:String,attribute:!1},rotate:{type:Number},zoom:{type:Number}}}constructor(){super(),this.cache={},this.renderer=new h,this.rotate=0,this.zoom=1}static get styles(){return e.css`:host{overflow:auto}.container{min-height:10em;display:grid;grid-column-template:1fr;grid-gap:var(--border-radius);justify-content:center}.content{max-width:45vw}.controls{display:grid;grid-column-template:1fr;grid-gap:var(--border-radius);position:absolute;top:0;right:var(--border-radius);margin:var(--border-radius);z-index:10}.control{display:flex;justify-content:center;align-items:center;font-size:var(--icon-size-large);color:var(--palette-accent);text-align:center;cursor:pointer;padding:var(--border-radius);background-color:var(--palette-light);border:none;border-radius:50%}[data-closed]{display:none}`}render(){return e.html`<style>@import url(https://fonts.googleapis.com/css?family=Open+Sans&display=swap);@import url(https://fonts.googleapis.com/icon?family=Material+Icons);body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);background-color:var(--palette-white)}body,h1,h2,h3,h4,h5,p{color:var(--palette-black);font-family:var(--font-family);padding:0;margin:0;box-sizing:border-box}h1,h2,h3,h4,h5{padding:.25em 0 .75em 0;font-weight:var(--font-weight-bold)}h1{font-size:var(--font-size-extra-large);color:var(--palette-accent)}h2{font-size:var(--font-size-large)}p{line-height:1.4em;margin:0 0 1em 0}a{color:var(--palette-900);cursor:pointer;text-decoration-line:underline;text-decoration-style:dashed;text-decoration-color:var(--palette-900)}</style><div class=controls><button class=control @click=${this.hide}><i class=material-icons title=Hide>close</i></button> <button class=control @click=${this.zoomIn} ?disabled=${this.isMaxZoom}><i class=material-icons title="Zoom In">zoom_in</i></button> <button class=control @click=${this.zoomOut} ?disabled=${this.isMinZoom}><i class=material-icons title="Zoom Out">zoom_out</i></button> <button class=control @click=${this.rotateLeft}><i class=material-icons title="Rotate Left">rotate_left</i></button> <button class=control @click=${this.rotateRight}><i class=material-icons title="Rotate Right">rotate_right</i></button></div><app-spinner ?data-closed=${this.imgsrc}></app-spinner><div class=container ?data-closed=${!this.imgsrc}>${this.imageTag}<slot></slot></div>`}get imgsrc(){return this.cache[this.pdfsrc]}static get MOD_ROTATE(){return 4}get rotate(){return this._rotate}set rotate(t){const e=this.rotate;let a=Math.round(t)+m.MOD_ROTATE;this._rotate=a%m.MOD_ROTATE,this.requestUpdate("rotate",e)}rotateLeft(){this.rotate-=1}rotateRight(){this.rotate+=1}static get MAX_ZOOM(){return 2}get isMaxZoom(){return this.zoom>=m.MAX_ZOOM}static get MIN_ZOOM(){return.5}get isMinZoom(){return this.zoom<=m.MIN_ZOOM}get zoom(){return this._zoom}set zoom(t){const e=this.zoom;this._zoom=Math.min(Math.max(t,m.MIN_ZOOM),m.MAX_ZOOM),this.requestUpdate("zoom",e)}zoomIn(){this.zoom+=.25}zoomOut(){this.zoom-=.25}get translate(){let t={x:0,y:0};return this.rotate&&(t.x=1===this.rotate?0:100*this.zoom,t.y=3===this.rotate?0:100*this.zoom),t}get imageTag(){return this.imgsrc?e.html`<img class=content src=${this.imgsrc} style=${this.contentTransform}>`:""}get contentTransform(){let t=this.rotate/m.MOD_ROTATE,e=this.zoom,a=this.translate;return`\n      transform-origin: top left;\n      transform: rotate(${t}turn) translate(-${a.x}%, -${a.y}%) scale(${e})\n      `}show(t){this.dispatchEvent(new CustomEvent(d,{bubbles:!0,composed:!0,detail:{url:t,closed:!1}})),this.pdfsrc=t,this.removeAttribute("data-closed")}hide(){this.pdfsrc=null,this.setAttribute("data-closed",!0),this.dispatchEvent(new CustomEvent(d,{bubbles:!0,composed:!0,detail:{closed:!0}}))}_getFromCache(t){return new Promise((e,a)=>{let r=this.cache[t];r?e(r):a("Not in cache")})}request(t){return this._getFromCache(t).catch(()=>this.renderer.render(t).then(e=>(this.cache[t]=e,this.requestUpdate("cache"),e)))}}customElements.define("pdf-view-panel",m);class p extends e.LitElement{static get properties(){return{src:{type:String},panel:{type:Object,attribute:!1},missing:{type:Boolean,attribute:!1}}}constructor(){super(),this.missing=!0,this.alt=!1}static get styles(){return e.css`.container{display:grid;grid-template-columns:1fr 1fr;grid-gap:var(--border-radius)}[data-closed]{display:none}`}render(){return e.html`<style>@import url(https://fonts.googleapis.com/css?family=Open+Sans&display=swap);@import url(https://fonts.googleapis.com/icon?family=Material+Icons);body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);background-color:var(--palette-white)}body,h1,h2,h3,h4,h5,p{color:var(--palette-black);font-family:var(--font-family);padding:0;margin:0;box-sizing:border-box}h1,h2,h3,h4,h5{padding:.25em 0 .75em 0;font-weight:var(--font-weight-bold)}h1{font-size:var(--font-size-extra-large);color:var(--palette-accent)}h2{font-size:var(--font-size-large)}p{line-height:1.4em;margin:0 0 1em 0}a{color:var(--palette-900);cursor:pointer;text-decoration-line:underline;text-decoration-style:dashed;text-decoration-color:var(--palette-900)}</style><div class=container ?data-closed=${this.missing}><button-link href=${this.src} target=_blank download><i slot=content-before class=material-icons title=Download>save_alt</i> <span slot=content>Download</span></button-link><app-collapsible @open=${this.toggle} button><span slot=header>View</span> <i slot=header-after class=material-icons title=View>${this.alt?"chevron_left":"chevron_right"}</i></app-collapsible></div>`}updated(t){(t.has("panel")||t.has("src"))&&(this.handleMissingPDF(),this.panel&&this.src&&this.panel.request(this.src).then(this.handleLoadedPDF.bind(this),this.handleMissingPDF.bind(this)))}toggle(t){this.alt?this.panel.hide():this.panel.show(this.src)}handleMissingPDF(){this.missing||(this.missing=!0)}handleLoadedPDF(){this.missing&&(this.missing=!1)}handleAlt(t){t.detail.url===this.src?this.alt=!0:this.alt=!1,this.requestUpdate()}connectedCallback(){super.connectedCallback(),this.__altHandler=this.handleAlt.bind(this),document.addEventListener(d,this.__altHandler)}disconnectedCallback(){document.removeEventListener(d,this.__altHandler),super.disconnectedCallback()}}customElements.define("pdf-view-button",p);class u extends e.LitElement{static get properties(){return{siteinfo:Object}}constructor(){super()}static get styles(){return e.css`text{font-size:var(--font-size-small);font-weight:700;fill:#414c43}.container{display:flex;flex-direction:column;align-items:center}`}render(){return e.html`<div class=container><svg id=bed-materials-chart></svg></div>`}firstUpdated(){this.chart=d3.select(this.renderRoot.querySelector("#bed-materials-chart"))}updated(){var t=Math.min(500,300)/2-30;this.chart.attr("width",500).attr("height",300);var e=this.chart.append("g").attr("transform","translate(250,150)"),a=e.append("g").attr("class","donutSegments"),r=(e.append("g").attr("class","chartLabels"),e.append("g").attr("class","leaderLines"),[{material:"organic",percent:this.siteinfo.Percent_organic,color:"#406058"},{material:"fines",percent:this.siteinfo.Percent_fines,color:"#adcaba"},{material:"sand",percent:this.siteinfo.Percent_sand,color:"#b7b098"},{material:"gravel",percent:this.siteinfo.Percent_gravel,color:"#cccccc"},{material:"cobble",percent:this.siteinfo.Percent_cobble,color:"#7b6888"},{material:"boulder",percent:this.siteinfo.Percent_boulder,color:"#514b47"},{material:"bedrock",percent:this.siteinfo.Percent_bedrock,color:"#98abc5"}]),i=d3.pie().sort(null).value(function(t){return t.percent})(r).filter(function(t){return t.value>0}),o=d3.arc().outerRadius(t).innerRadius(t-45).padAngle(.025);function n(t){return t.startAngle+(t.endAngle-t.startAngle)/2}a.selectAll("path").data(i).enter().append("path").attr("d",o).attr("fill",function(t){return t.data.color}).style("opacity",1);var s=d3.arc().innerRadius(1.1*t).outerRadius(1.1*t);this.chart.select(".chartLabels").selectAll("text").data(i).enter().append("text").html(function(t){return t.data.percent+"% "+t.data.material}).attr("dy",".35em").attr("transform",function(e){var a=s.centroid(e);return a[0]=1.15*t*(n(e)<Math.PI?1:-1),"translate("+a+")"}).style("text-anchor",function(t){return n(t)<Math.PI?"start":"end"}),this.chart.select(".leaderLines").selectAll("polyline").data(i).enter().append("polyline").attr("stroke","#333333").attr("stroke-width",1).style("fill","none").attr("points",function(e){var a=s.centroid(e);return a[0]=1.1*t*(n(e)<Math.PI?1:-1),[o.centroid(e),s.centroid(e),a]})}}customElements.define("site-bed-materials",u);class g extends e.LitElement{static get properties(){return{siteinfo:Object}}constructor(){super()}static get styles(){return e.css`
            .label{
               font-weight: bold;
            }
            .tick {
               font-size: 13px;

               /* why did I have to add this in?? */
               font-family: 'open_sansregular','Open Sans',sans_serif; 

               color: #777;
            }
            .tick line {
               stroke: #777;
            }
            .annotation {
               font-size: 14px;
            }

            .container {
               display: flex;
               flex-direction: column;
               align-items: center;
            }
        `}render(){return e.html`
        <div class="container">
        <!-- <h2>Water quality</h2> -->
        
       <!-- <span class="label">conductivity: </span><span>${this.siteinfo.Conductivity_uS}</span><br> -->
         <svg id="conductivity-chart"></svg><br>
       <!-- <span class="label">temperature: </span><span>${this.siteinfo.Water_Temp_C}</span><br> -->
         <svg id="temperature-chart"></svg><br>
       <!-- <span class="label">pH: </span><span>${this.siteinfo.pH}</span><br> -->
         <svg id="ph-chart"></svg>
        </div>
    `}firstUpdated(){this.phchart=d3.select(this.renderRoot.querySelector("#ph-chart")),this.temperaturechart=d3.select(this.renderRoot.querySelector("#temperature-chart")),this.conductivitychart=d3.select(this.renderRoot.querySelector("#conductivity-chart"))}updated(){this.siteinfo.pH,this.siteinfo.Water_Temp_C,this.siteinfo.Conductivity_uS;var t={svg:this.phchart,label:"pH",attributeKey:"pH",tickValues:[5.5,6,6.5,7,7.5,8,8.5,9,9.5,10],chartMin:5.5,chartMax:10,svgWidth:400,siteInfo:this.siteinfo,allData:aggrData.data},e={svg:this.temperaturechart,label:"Temperature (C)",attributeKey:"Water_Temp_C",tickValues:[5,7,9,11,13,15,17],chartMin:5,chartMax:17,svgWidth:400,siteInfo:this.siteinfo,allData:aggrData.data},a={svg:this.conductivitychart,label:"Conductivity (uS)",attributeKey:"Conductivity_uS",tickValues:[0,250,500,750,1e3,1250,1500,1750],chartMin:0,chartMax:1750,svgWidth:400,siteInfo:this.siteinfo,allData:aggrData.data};f.draw(e),f.draw(t),f.draw(a)}}customElements.define("site-water-quality",g);var f={draw:function(t){var e=t.svgWidth,a=40,r=20,i=e-r-20,o=110-a-40;t.svg.attr("width",e).attr("height",110);var n=t.svg.append("g").attr("class","chartgroup").attr("transform","translate("+r+", "+a+")"),s=d3.scaleLinear().domain([t.chartMin,t.chartMax]).range([0,i]),l=d3.scaleBand().domain([""]).rangeRound([0,o]);n.append("g").attr("class","x-axis").attr("transform","translate(0,"+o+")").call(d3.axisBottom(s).tickSizeInner(-o).tickSizeOuter(0).tickPadding(5).tickValues(t.tickValues)).call(t=>t.select(".domain").remove()),n.append("g").attr("class","y-axis").call(d3.axisLeft(l).tickSizeInner(-i).tickSizeOuter(0).tickPadding(0)).call(t=>t.select(".domain").remove()).call(t=>t.selectAll("text").remove());var c=n.append("g").attr("class","circles"),d=o;c.selectAll("circle").data(t.allData).enter().append("circle").attr("cx",function(e){return s(e[t.attributeKey])}).attr("cy",function(t){return o/2-d/2+Math.random()*d}).attr("r",3).attr("fill","#406058").attr("opacity","0.7");var h=n.append("g").attr("class","annotation"),m=[{rrr:t.siteInfo[t.attributeKey]}];h.selectAll("circle").data(m).enter().append("circle").attr("cx",function(t){return s(t.rrr)}).attr("cy",function(t){return o/2}).attr("r",5).attr("fill","#406058").attr("stroke","#000").attr("stroke-width",2).attr("opacity","0.85"),h.selectAll("polyline").data(m).enter().append("polyline").attr("stroke","#333333").attr("stroke-width",2).style("fill","none").attr("points",function(t){var e=[0,0];e[0]=s(t.rrr),e[1]=o/2-5;var a=[0,0];return a[0]=s(t.rrr),a[1]=o/2-5-20,[e,a]}),h.selectAll("text").data(m).enter().append("text").attr("font-weight","bold").html(function(e){return t.label+": "+e.rrr}).attr("transform",function(t){var e=[0,0];return e[0]=s(t.rrr),e[1]=o/2-5-20-5,"translate("+e+")"}).style("text-anchor","middle")}};t.AppCollapsible=o,t.AppSidebar=n,t.AppSpinner=l,t.DownloadSection=r,t.InRadio=i,t.ModalDialog=s,t.PDFViewButton=p,t.PDFViewPanel=m,t.SiteBedMaterials=u,t.SiteWaterQuality=g,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map
