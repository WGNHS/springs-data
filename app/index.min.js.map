{"version":3,"file":"index.min.js","sources":["../../app/map/restyling-circle-marker.js","../../app/site-data.js","../../app/site-router.js","../../app/details/site-sketch.js","../../node_modules/macro-carousel/dist/macro-carousel.min.js","../../app/details/site-photos.js","../../app/details/site-details.js","../../app/map/map-controls.js","../../app/index.js","../../app/map/site-map.js"],"sourcesContent":["\nconst colorRange = [\n  '#e0ecf4',\n  '#bfd3e6',\n  '#9ebcda',\n  '#8c96c6',\n  '#8c6bb1',\n  '#88419d',\n  '#810f7c'\n];\nexport const RestylingCircleMarker = L.CircleMarker.extend({\n  getEvents: function() {\n    return {\n      zoomend: this._restyle,\n      normalpoints: this._normal,\n      typepoints: this._orifice,\n      condpoints: this._conductivity,\n      qpoints: this._discharge\n    }\n  },\n  _restyle: function(e) {\n    this.setRadius(RestylingCircleMarker.calcRadius(e.target.getZoom()))\n  },\n  _normal: function(e) {\n    let color = '#3388ff';\n    if (!this._activeBackup) {\n      this.setStyle({'color': color});\n    } else {\n      this._activeBackup = color;\n    }\n  },\n  _orifice: function(e) {\n    var color = '#3388ff';\n    if (this.feature.properties.Orifice_Geom === 'seepage/filtration') {\n      color = '#33AA44';\n    }\n    if (!this._activeBackup) {\n      this.setStyle({'color': color});\n    } else {\n      this._activeBackup = color;\n    }\n  },\n  _conductivity: function(e) {\n    var color = colorRange[colorRange.length-1];\n    var binWidth = (aggrData.aggr['Conductivity_uS'].max - aggrData.aggr['Conductivity_uS'].min) / colorRange.length;\n    for (var i = 1; i < colorRange.length; i++) {\n      if (((binWidth * i) + aggrData.aggr['Conductivity_uS'].min) > this.feature.properties['Conductivity_uS']) {\n        color = colorRange[i];\n        break;\n      }\n    }\n    if (!this._activeBackup) {\n      this.setStyle({'color': color});\n    } else {\n      this._activeBackup = color;\n    }\n  },\n  _discharge: function(e) {\n    var color = colorRange[colorRange.length-1];\n    var binWidth = (aggrData.aggr['Discharge_cfs'].max - aggrData.aggr['Discharge_cfs'].min) / colorRange.length;\n    for (var i = 1; i < colorRange.length; i++) {\n      if (((binWidth * i) + aggrData.aggr['Discharge_cfs'].min) > this.feature.properties['Discharge_cfs']) {\n        color = colorRange[i];\n        break;\n      }\n    }\n    if (!this._activeBackup) {\n      this.setStyle({'color': color});\n    } else {\n      this._activeBackup = color;\n    }\n  },\n  highlight: function() {\n    this._activeBackup = this.options.color;\n    this.setStyle({'color': 'orange'})\n  },\n  removeHighlight: function() {\n    if (this._activeBackup) {\n      this.setStyle({'color': this._activeBackup})\n      this._activeBackup = null;\n    }\n  }\n});\n\nRestylingCircleMarker.calcRadius = (a) => Math.max(Math.floor(a/1.5),3);","\nexport class SiteData {\n  constructor(springs, springPhotos, springSketches) {\n    this._springPhotos = springPhotos;\n    this._springSketches = springSketches;\n\n    // Define aggregated data for visualization\n    this._aggrKeys = ['Site_Code', 'Conductivity_uS', 'Discharge_cfs', 'pH', 'Water_Temp_C'];\n\n    this.aggrData = SiteData._gatherAggrData(springs, this._aggrKeys);\n  }\n\n  async lookupPhotos(site) {\n    const springPhotos = this._springPhotos;\n    return new Promise(function(resolve, reject) {\n      springPhotos.query().where(\"Site_Code = '\" + site + \"'\").run(function(err, col) {\n        if (!err) {\n          var photos = col.features.map( function(value) { return value.properties; } );\n          photos.sort(function(a, b) {\n            return a.Image_Number - b.Image_Number;\n          });\n\n          resolve(photos);\n        } else {\n          // console.log('Could not get Spring Photos', err);\n          reject(err);\n        }\n      });\n    });\n  }\n\n  async lookupSketches(site) {\n    const springSketches = this._springSketches;\n    return new Promise(function(resolve, reject) {\n      springSketches.query().where(\"File_Prefix = '\" + site + \"'\").run(function(err, col) {\n        if (!err) {\n          var sketches = col.features.map( function(value, index) { return value.properties['FileURL']});\n          resolve(sketches);\n        } else {\n          // console.log('Could not get Spring Sketches', err);\n          reject(err);\n        }\n      });\n    });\n  }\n\n  static _gatherAggrData(layer, aggrKeys) {\n    const aggrData = {\n      aggr: {},\n      data: []\n    };\n\n    // Collect datasets and aggregates\n    layer.eachFeature(function(obj, l) {\n      let result = {};\n      aggrKeys.forEach(function(key) {\n        result[key] = obj.feature.properties[key]\n        if (!aggrData.aggr[key]) {\n          aggrData.aggr[key] = {};\n        }\n        if (result[key] && 'number' === typeof result[key]) {\n          if (!aggrData.aggr[key].max || aggrData.aggr[key].max < result[key]) {\n            aggrData.aggr[key].max = result[key];\n          }\n          if (!aggrData.aggr[key].min || aggrData.aggr[key].min > result[key]) {\n            aggrData.aggr[key].min = result[key];\n          }\n        }\n      });\n      aggrData.data.push(result);\n    });\n\n    return aggrData;\n  }\n}\n\nconst formatDate = function formatDate(item) {\n  return (!item) ?\n    null :\n    new Date(item).toISOString().substring(0,10);\n};\n\nconst roundToTwoDecimals = function roundToTwoDecimals(item) {\n  return (!item) ?\n    null :\n    item.toFixed(2);\n}\n\nexport const ignoredKeys = [\n  'OBJECTID',\n  'GlobalID',\n  'File_Prefix',\n  'Site_Code',\n  'SpringID',\n  'Surveyor',\n  'Time',\n  'Horz_Precision_m',\n  'Max_PDOP',\n  'Access',\n  'Ease_Access',\n  'Notes',\n  'gps_time_date',\n  'sat_signals'\n];\nexport const keyLookup = {\n  'pH': { 'title': 'pH', 'desc': 'Measured as close to spring source as possible.' },\n  'Conductivity_uS': { 'title': 'Specific Conductance (µmho/cm)', 'desc': 'Measured as close to spring source as possible (µmho/cm).' },\n  'Water_Temp_C': { 'title': 'Temperature (°C)', 'desc': 'Measured as close to spring source as possible (°C).' },\n  'SpringID': { 'title': 'Spring ID', 'desc': 'Unique identifier within county.' },\n  'County': { 'title': 'County', 'desc': 'County where spring is located.' },\n  'Surveyor': { 'title': 'Surveyor(s)', 'desc': 'Who conducted the survey (initials).' },\n  'Date': { 'title': 'Date', 'desc': 'Date of field survey.', 'transform': formatDate },\n  'Time': { 'title': 'Time', 'desc': 'Start time.' },\n  'Easting_WTM': { 'title': 'Easting (WTM)', 'desc': 'Easting (WTM). As close to the spring source as possible.', 'transform': roundToTwoDecimals },\n  'Northing_WTM': { 'title': 'Northing (WTM)', 'desc': 'Northing (WTM). As close to the spring source as possible.', 'transform': roundToTwoDecimals },\n  'Horz_Precision_m': { 'title': 'Horizontal Precision (meters)', 'desc': 'Horizontal accuracy of GPS position (meters).' },\n  'Max_PDOP': { 'title': 'Maximum PDOP', 'desc': 'Maximum positional dilution of precision (PDOP) during measurement.' },\n  'Elevation_m': { 'title': 'Elevation (meters)', 'desc': 'From digital elevation model (DEM) (meters).', 'transform': roundToTwoDecimals },\n  'elevation_source': { 'title': 'Elevation Source', 'desc': 'DEM source and horizontal resolution of DEM used to extract elevation.' },\n  'Land_Owner': { 'title': 'Land Ownership', 'desc': 'List: state, county, city, NPS, USFS, tribal, military, private, other.' },\n  'Access': { 'title': 'Access', 'desc': 'Directions to springs.' },\n  'Ease_Access': { 'title': 'Ease of Access', 'desc': 'List: Easy access, Difficult access, Terrain prohibits access to other potential spring areas.' },\n  'Land_Cover': { 'title': 'Land Cover', 'desc': 'List: urban, residential, agriculture, grassland, forest, open water, wetland, barren, shrubland, other.' },\n  'Air_Temp_F': { 'title': 'Air Temperature (°F)', 'desc': 'Air temperature on date surveyed (°F).' },\n  'Cloud_Cover_percent': { 'title': 'Cloud Cover (%)', 'desc': 'Cloud cover at time of survey (%).' },\n  'Wind_Speed_mph': { 'title': 'Wind Speed (mph)', 'desc': 'Velocity measurement on date surveyed (mph).' },\n  'Aspect_degrees': { 'title': 'Aspect', 'desc': 'Direction that the spring orifice faces.' },\n  'Slope_degrees': { 'title': 'Slope (°)', 'desc': 'Channel slope (°).' },\n  'Slope_Variability': { 'title': 'Slope Variability', 'desc': 'List: high, medium, low, none.' },\n  'Condition': { 'title': 'Condition', 'desc': 'List: undisturbed, light, moderate, high.' },\n  'Type_of_Disturbance': { 'title': 'Type of Disturbance', 'desc': 'List: wildlife, livestock, recreation, diversion, residence, impounded, dredging, flooding, trails, roadway, invasives, spring house, encased, raceways, human-made structure, trash, storm-water, drain tile, agriculture, other.' },\n  'Spring_Area_sqm': { 'title': 'Spring Area (m²)', 'desc': 'List: <2 m², 2-10 m², 10-100 m², 100-1000 m², 1000-10,000 m², 10,000-100,000 m²' },\n  'Surface_Types': { 'title': 'Surface Type(s)', 'desc': 'List: backwall, colluvial slope, sloping bedrock, pool, channel, spring mound, cave, other.' },\n  'Width_ft': { 'title': 'Channel or Pool Width (feet)', 'desc': 'If a channel or pool exists, the mean width (feet).' },\n  'Width_Location': { 'title': 'Width Location', 'desc': 'List: pool, channel, pond, spring house, other.' },\n  'Depth_cm': { 'title': 'Channel or Pool Depth (cm)', 'desc': 'If a channel or pool exists, the mean depth (cm).' },\n  'Depth_Location': { 'title': 'Depth Location', 'desc': 'List: pool, channel, pond, spring house, other.' },\n  'Percent_organic': { 'title': 'Percent Organic', 'desc': 'Qualitative estimate of the % organics. Described as close to spring source as possible.' },\n  'Percent_fines': { 'title': 'Percent Fines', 'desc': 'Qualitative estimate of the % fines. Described as close to spring source as possible.' },\n  'Percent_sand': { 'title': 'Percent Sand', 'desc': 'Qualitative estimate of the % sand. Described as close to spring source as possible.' },\n  'Percent_gravel': { 'title': 'Percent Gravel', 'desc': 'Qualitative estimate of the % gravel. Described as close to spring source as possible.' },\n  'Percent_cobble': { 'title': 'Percent Cobble', 'desc': 'Qualitative estimate of the % cobble. Described as close to spring source as possible.' },\n  'Percent_boulder': { 'title': 'Percent Boulder', 'desc': 'Qualitative estimate of the % boulder. Described as close to spring source as possible.' },\n  'Percent_bedrock': { 'title': 'Percent Bedrock', 'desc': 'Qualitative estimate of the % bedrock. Described as close to spring source as possible.' },\n  'Bedrock_Comp': { 'title': 'Bedrock Composition', 'desc': 'List: shale, siltstone, sandstone, conglomerate, limestone, dolomite, igneous or metamorphic, NA, other.' },\n  'Spring_Type': { 'title': 'Spring Type', 'desc': 'List: helocrene, rheocrene, limnocrene, hillslope spring, cased, flowing well, other.' },\n  'Spring_Source': { 'title': 'Spring Source', 'desc': 'List: single orifice, multiple orifices, diffuse flow, other.' },\n  'Orifice_Geom': { 'title': 'Orifice Geomorphic Type', 'desc': 'List: seepage/filtration, fracture, tubular, contact.' },\n  'Discharge_cfs': { 'title': 'Discharge (cfs)', 'desc': 'Spring flow (cfs).' },\n  'Flow_Accuracy': { 'title': 'Flow Accuracy', 'desc': 'Level of accuracy of flow measurement, List: low, high' },\n  'Discharge_Meas': { 'title': 'How Measured', 'desc': 'List: timed volume, float velocity method, flume, AA meter, AD meter (acoustic Doppler meter), EM meter (electromagnetic meter).' },\n  'Flow_Location': { 'title': 'Flow Location', 'desc': 'Where flow was measured.' },\n  'Flow_percent': { 'title': 'Flow %', 'desc': 'Percent of flow captured (%).' },\n  'Veg_Bed_Cover_percent': { 'title': 'Vegetative Bed Cover (%)', 'desc': 'The proportion of the spring pool bed or channel bed that is covered by live vegetation (%).' },\n  'Veg_Bank_Cover_percent': { 'title': 'Vegetative Bank Cover (%)', 'desc': 'The proportion of the spring pool banks or channel banks that is covered by live vegetation (%).' },\n  'Notes': { 'title': 'Notes', 'desc': 'Other notes as necessary.' },\n  'GlobalID': { 'title': 'Global ID', 'desc': 'Automatically generated unique and global ID' },\n  'gps_time_date': { 'title': 'GPS time and date', 'desc': 'Automatically generated GPS time and date stamp' },\n  'sat_signals': { 'title': 'Number of satellites', 'desc': 'Automatically generated number of satellites visible' }\n};\n","import { pushStateLocationPlugin, servicesPlugin, UIRouter } from '@uirouter/core';\n\nconst DEFAULT_ROUTE = 'entry';\n\nexport class SiteRouter extends window.L.Evented {\n\n  constructor() {\n    super();\n    this.router = new UIRouter();\n    this.router.plugin(pushStateLocationPlugin);\n    this.router.plugin(servicesPlugin);\n    this.routes = {};\n  }\n\n  start() {\n    this.router.urlService.rules.initial({ state: DEFAULT_ROUTE });\n    this.router.urlService.rules.otherwise({ state: DEFAULT_ROUTE });\n    // this.router.trace.enable(1);\n    this.router.urlService.listen();\n    this.router.urlService.sync();\n  }\n\n  addRoute(config) {\n    if (config && config.name) {\n      this.routes[config.name] = config;\n      this.router.stateRegistry.register(config);\n    }\n  }\n\n  /**\n   * clear selection\n   */\n  clearRoute() {\n    this.setRoute();\n  }\n\n  setRoute(name, params) {\n    if (arguments.length > 0 && this.routes[name]) {\n      this.router.stateService.go(name, params);\n    } else {\n      this.router.stateService.go(DEFAULT_ROUTE);\n    }\n  }\n\n  link(name, params) {\n    let result = '';\n    if (params) {\n      result = this.router.stateService.href(name, params);\n    } else {\n      // to protect against 'undefined' being added to the path.\n      result = this.router.stateService.href(name);\n    }\n    return result;\n  }\n\n  onEnterAll(options, func) {\n    this.router.transitionService.onEnter(options, func);\n  }\n  onExitAll(options, func) {\n    this.router.transitionService.onExit(options, func);\n  }\n}","import { LitElement, html, css } from 'lit-element';\nimport { styles } from 'wgnhs-styles';\nexport { AppCollapsible } from 'wgnhs-layout';\n\nconst TOGGLE_EVENT = 'toggle-pdf-panel';\n\nexport class SiteSketchButton extends LitElement {\n  static get properties() {\n    return {\n      src: {\n        type: String\n      },\n      panel: {\n        type: Object,\n        attribute: false\n      },\n      closed: {\n        type: Boolean,\n        attribute: false\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.closed=true;\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css``\n    ];\n  }\n\n  render() {\n    return html`\n    <app-collapsible @open=\"${this.toggle}\" button>\n      <i slot=\"header-before\" class=\"material-icons\" title=\"Site sketch map\">picture_as_pdf</i>\n      <span slot=\"header\">Site sketch map</span>\n      <i slot=\"header-after\" class=\"material-icons\">${\n          (!this.closed)?'chevron_left':'chevron_right'\n        }</i>\n    </app-collapsible>\n    `;\n  }\n\n  updated(prev) {\n    if ((prev.has('panel') || prev.has('src'))) {\n      if (this.panel && this.src) {\n        this.panel.request(this.src)\n      }\n    }\n  }\n\n  toggle(e) {\n    if (!this.closed) {\n      this.panel.hide();\n    } else {\n      this.panel.show(this.src);\n    }\n  }\n\n  handleAlt(e) {\n    if (e.detail.url === this.src) {\n      this.closed = false;\n    } else {\n      this.closed = true;\n    }\n    this.requestUpdate();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.__altHandler = this.handleAlt.bind(this);\n    document.addEventListener(TOGGLE_EVENT, this.__altHandler);\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener(TOGGLE_EVENT, this.__altHandler);\n    super.disconnectedCallback();\n  }\n}\ncustomElements.define('site-sketch-button', SiteSketchButton);\n","/*!\n  @license https://github.com/ciampo/macro-carousel/blob/master/LICENSE\n  macro-carousel 1.0.0\n*/\n!function(){\"use strict\";let t;function getEvtListenerOptions(i){return!!function(){if(void 0===t){t=!1;try{const i=Object.defineProperty({},\"passive\",{get:()=>{t=!0}});window.addEventListener(\"test\",null,i)}catch(t){}}return t}()&&{passive:i}}function clamp(t,i=t,s=t){let e=t;if(i>s)throw new RangeError(`'min' ${i} should be lower than 'max' ${s}`);return t<i&&(e=i),t>s&&(e=s),e}function booleanSetter(t,i,s){s?t.setAttribute(i,\"\"):t.removeAttribute(i)}function booleanGetter(t,i){return t.hasAttribute(i)}function intSetter(t,i,s){t.setAttribute(i,s)}function intGetter(t,i,s=0){const e=t.getAttribute(i);return null===e?s:parseInt(e,10)}function normalizeEvent(t){if(\"touchstart\"===t.type||\"touchmove\"===t.type||\"touchend\"===t.type){const i=t.targetTouches[0]||t.changedTouches[0];return{x:i.clientX,y:i.clientY,id:i.identifier,event:t}}return{x:t.clientX,y:t.clientY,id:null,event:t}}const i=document.createElement(\"template\");i.innerHTML='<style>:host{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;contain:content;-webkit-tap-highlight-color:rgba(0,0,0,0);--macro-carousel-gap:16px;--macro-carousel-background-color:transparent;--macro-carousel-slide-min-height:0px;--macro-carousel-slide-max-height:none;--macro-carousel-transition-duration:0.6s;--macro-carousel-transition-timing-function:cubic-bezier(0.25,0.46,0.45,0.94);--macro-carousel-pagination-gap:2px;--macro-carousel-pagination-height:44px;--macro-carousel-fallback-message-color-background:#fff;--macro-carousel__internal__slides-per-view:1}:host([hidden]){display:none}:host-context(.js-focus-visible) ::slotted(:focus:not(.focus-visible)),:host-context(.js-focus-visible) :focus:not(.focus-visible){outline:0}#externalWrapper{height:100%;overflow:hidden;contain:paint;background-color:var(--macro-carousel-background-color);-ms-touch-action:pan-y pinch-zoom;touch-action:pan-y pinch-zoom;cursor:-webkit-grab;cursor:grab}#externalWrapper:active{cursor:-webkit-grabbing;cursor:grabbing}:host([disable-drag]) #externalWrapper{cursor:default}#slidesWrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;height:100%;min-height:var(--macro-carousel-slide-min-height);max-height:var(--macro-carousel-slide-max-height);will-change:transform}:host([transitioning]) #slidesWrapper{-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transition-duration:var(--macro-carousel-transition-duration);transition-duration:var(--macro-carousel-transition-duration);-webkit-transition-timing-function:var(--macro-carousel-transition-timing-function);transition-timing-function:var(--macro-carousel-transition-timing-function)}#slidesWrapper ::slotted(*){-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-preferred-size:calc((100% - (var(--macro-carousel__internal__slides-per-view) - 1) * var(--macro-carousel-gap)) / var(--macro-carousel__internal__slides-per-view));flex-basis:calc((100% - (var(--macro-carousel__internal__slides-per-view) - 1) * var(--macro-carousel-gap)) / var(--macro-carousel__internal__slides-per-view));min-height:var(--macro-carousel-slide-min-height);max-height:var(--macro-carousel-slide-max-height);margin-right:var(--macro-carousel-gap);overflow:hidden;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.slidesFallback{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0;padding:.5em 1em;width:100%;background-color:var(--macro-carousel-fallback-message-color-background)}:host([disable-drag]) #slidesWrapper ::slotted(*){-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}#pagination{display:none}:host([pagination]) #pagination{-ms-flex-item-align:center;align-self:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:var(--macro-carousel-pagination-height);contain:strict;font-size:0}div ::slotted(macro-carousel-pagination-indicator){margin:0 calc(var(--macro-carousel-pagination-gap) / 2);padding:0;font-size:inherit;opacity:.8}div ::slotted(macro-carousel-pagination-indicator.selected),div ::slotted(macro-carousel-pagination-indicator:hover){opacity:1}#navigation{display:none}:host([navigation]) #navigation{display:block}div ::slotted(macro-carousel-nav-button){position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}:host([pagination]) div ::slotted(macro-carousel-nav-button){top:calc(50% - var(--macro-carousel-pagination-height) / 2)}div ::slotted(.macro-carousel-previous){left:0}div ::slotted(.macro-carousel-next){right:0}#aria-live ::slotted(*){position:absolute;height:1px;width:1px;margin:-1px;padding:0;clip:rect(0 0 0 0);overflow:hidden;border:0}@media print{#slidesWrapper ::slotted(*){margin-right:0;margin-bottom:.2em;outline:1px solid #000;color:#000;page-break-inside:avoid}:host([navigation]) #navigation,:host([pagination]) #pagination{display:none}#slidesWrapper{display:block;-webkit-transform:none!important;transform:none!important;-webkit-transition:0s;transition:0s}}</style> <div id=\"externalWrapper\"> <div id=\"slidesWrapper\"> <slot id=\"slidesSlot\"> <p class=\"slidesFallback\">No content available</p> </slot> </div> </div> <div id=\"navigation\"> <slot id=\"navigationSlot\" name=\"navigationSlot\"></slot> </div> <div id=\"pagination\"> <slot id=\"paginationSlot\" name=\"paginationSlot\"></slot> </div> <div id=\"aria-live\"> <slot id=\"ariaSlot\" name=\"ariaSlot\"></slot> </div> ',window.ShadyCSS&&window.ShadyCSS.prepareTemplate(i,\"macro-carousel\");const s=.5,e=2,o=Math.abs((a=35,Math.round(100*Math.tan(a*Math.PI/180))/100));var a;const n=5;window.customElements.define(\"macro-carousel\",class MacroCarousel extends HTMLElement{constructor(){super(),this.attachShadow({mode:\"open\"}),this.shadowRoot.appendChild(i.content.cloneNode(!0)),this.t=this.shadowRoot.querySelector(\"#externalWrapper\"),this.i=this.shadowRoot.querySelector(\"#slidesWrapper\"),this.s=this.shadowRoot.querySelector(\"#slidesSlot\"),this.e=this.shadowRoot.querySelector(\"#ariaSlot\"),this.o=this.shadowRoot.querySelector(\"#paginationSlot\"),this.a=[],this.n=this.shadowRoot.querySelector(\"#navigationSlot\"),this.r=void 0,this.h=void 0,this.c=[],this.l=-1,this.d=!1,this.u=0,this.m=0,this.g=0,this.p=0,this.b=0,this.v=0,this.w=void 0,this.f=!1,this.k=!1,this._=void 0,this.S=void 0,this.z=void 0,this.M=void 0,this.C=void 0,this.W=void 0,this.P=void 0,this.L=void 0,this.G=[],this.F=!1,this.I=50,this.$=20,this.A=.7,this.D=.04,this.T=0,this.N=!1}connectedCallback(){window.ShadyCSS&&window.ShadyCSS.styleElement(this),this.hasAttribute(\"role\")||this.setAttribute(\"role\",\"list\"),this.j(\"selected\"),this.j(\"loop\"),this.j(\"navigation\"),this.j(\"pagination\"),this.j(\"disableDrag\"),this.j(\"slidesPerView\"),this.j(\"reducedMotion\"),this.j(\"autoFocus\"),this.m=this.selected,this.O(),this.s.addEventListener(\"slotchange\",this),window.addEventListener(\"resize\",this,getEvtListenerOptions(!0)),this.addEventListener(\"keydown\",this),window.addEventListener(\"touchmove\",function(){}),this.q()}disconnectedCallback(){this.s.removeEventListener(\"slotchange\",this),window.removeEventListener(\"resize\",this),this.disableDrag||(this.t.removeEventListener(\"touchstart\",this),this.t.removeEventListener(\"mousedown\",this)),this.navigation&&(this.r.removeEventListener(\"macro-carousel-nav-button-clicked\",this),this.h.removeEventListener(\"macro-carousel-nav-button-clicked\",this)),this.pagination&&this.a.forEach(t=>{t.removeEventListener(\"macro-carousel-pagination-indicator-clicked\",this)})}handleEvent(t){\"resize\"===t.type&&t.target===window?(this.B(),this.update()):\"slotchange\"===t.type&&t.target===this.s?this.q():\"macro-carousel-pagination-indicator-clicked\"===t.type&&this.pagination?this.V(t):\"macro-carousel-nav-button-clicked\"===t.type&&this.navigation?t.target===this.r?this.previous():t.target===this.h&&this.next():\"keydown\"===t.type?37===t.keyCode||38===t.keyCode?this.previous():39!==t.keyCode&&40!==t.keyCode||this.next():\"transitionend\"===t.type&&t.target===this.i?(this.H(),this.R(),this.X()):\"touchstart\"===t.type||\"mousedown\"===t.type?this.Y(normalizeEvent(t)):\"touchmove\"===t.type||\"mousemove\"===t.type?this.U(normalizeEvent(t)):\"touchend\"===t.type||\"mouseup\"===t.type?this.J(normalizeEvent(t)):\"touchcancel\"===t.type&&this.K()}j(t){if(this.hasOwnProperty(t)){const i=this[t];delete this[t],this[t]=i}}update(){clearTimeout(this.w),this.B(),this.w=setTimeout(()=>{this.Q()},50)}Q(){this.Z(),this.tt(),this.it(),this.st(this.c.map(t=>t.layoutIndex),!0),this.et(this.selected),this.ot(),this.at(),this.nt(),this.H(),this.X(),this.O()}previous(){this.selected=this.rt(this.selected)}rt(t){let i=t;return t>0?i=t-1:this.loop&&(this.d&&(this.u-=1),i=this.l),clamp(i,0,this.l)}next(){this.selected=this.ht(this.selected)}ht(t){let i=t;return t<this.l?i=t+1:this.loop&&(this.d&&(this.u+=1),i=0),clamp(i,0,this.l)}static get observedAttributes(){return[\"selected\",\"loop\",\"navigation\",\"pagination\",\"disable-drag\",\"slides-per-view\",\"reduced-motion\",\"auto-focus\"]}attributeChangedCallback(t,i,s){switch(0===this.c.length&&this.q(),t){case\"selected\":const e=parseInt(s,10);if(!Number.isFinite(e)||e>this.l||e<0)return void(this.selected=i||0);if(this.d){const t=this.selected+this.u*(this.l+1),i=this.m-t,s=[],e=i<0?this.slidesPerView+i:0;for(let o=-1;o<Math.abs(i);o++)s.push(o+t+e);this.st(s),this.m=t}this.et(this.selected),this.ot(),this.at(),this.dispatchEvent(new CustomEvent(\"macro-carousel-selected-changed\",{detail:this.selected,bubbles:!0})),this.f||this.N||(this.H(),this.R(),this.X());break;case\"loop\":this.tt(),this.it(),this.st(this.c.map((t,i)=>i)),this.at(),this.ot(),this.H(),this.R(),this.X(),window.ShadyCSS&&window.ShadyCSS.styleSubtree(this);break;case\"navigation\":this.update(),window.ShadyCSS&&window.ShadyCSS.styleSubtree(this);break;case\"pagination\":this.ot(),window.ShadyCSS&&window.ShadyCSS.styleSubtree(this);break;case\"disable-drag\":this.nt();break;case\"slides-per-view\":const o=parseInt(s,10);if(!Number.isFinite(o)||o<1||o>this.c.length)return void(this.slidesPerView=i||1);this.update(),window.ShadyCSS&&window.ShadyCSS.styleSubtree(this);break;case\"reduced-motion\":null!==s?this.B():this.O()}}set selected(t){intSetter(this,\"selected\",t)}get selected(){return intGetter(this,\"selected\")}set loop(t){booleanSetter(this,\"loop\",t)}get loop(){return booleanGetter(this,\"loop\")}set navigation(t){booleanSetter(this,\"navigation\",t)}get navigation(){return booleanGetter(this,\"navigation\")}set pagination(t){booleanSetter(this,\"pagination\",t)}get pagination(){return booleanGetter(this,\"pagination\")}set disableDrag(t){booleanSetter(this,\"disable-drag\",t)}get disableDrag(){return booleanGetter(this,\"disable-drag\")}set slidesPerView(t){intSetter(this,\"slides-per-view\",t)}get slidesPerView(){return intGetter(this,\"slides-per-view\",1)}set reducedMotion(t){booleanSetter(this,\"reduced-motion\",t)}get reducedMotion(){return booleanGetter(this,\"reduced-motion\")}set autoFocus(t){booleanSetter(this,\"auto-focus\",t)}get autoFocus(){return booleanGetter(this,\"auto-focus\")}B(){this.f=!1,this.removeAttribute(\"transitioning\"),this.i.removeEventListener(\"transitionend\",this,!1)}O(){this.reducedMotion||requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.f=!0,this.setAttribute(\"transitioning\",\"\"),this.i.addEventListener(\"transitionend\",this,!1)})})}Z(){this.g=this.i.getBoundingClientRect().width,this.p=this.ct(),this.b=this.lt()}lt(){return(this.g-(this.slidesPerView-1)*this.p)/this.slidesPerView}ct(){/\\d$/.test(function(t,i){const s=getComputedStyle(t);return String(s.getPropertyValue(i)).trim()}(this,\"--macro-carousel-gap\"))&&console.warn(\"Warning: it looks like --macro-carousel-gap has a unitless value.\\nAdd CSS units to its value to avoid breaking the slides layout.\");const t=parseInt(getComputedStyle(this.c[0].element)[\"margin-right\"],10);return Number.isFinite(t)?t:0}it(){var t,i,s;t=this,i=\"--macro-carousel__internal__slides-per-view\",s=`${this.slidesPerView}`,t.style.setProperty(i,s),window.ShadyCSS&&window.ShadyCSS.styleSubtree(t,{[i]:s}),this.l=this.d?this.c.length-1:this.dt(),!this.d&&this.selected>this.l&&(this.selected=this.l)}dt(){return Math.max(0,this.c.length-this.slidesPerView)}ut(t){let i=t;for(;i<0;)i+=this.c.length;return i%this.c.length}st(t,i=!1){let s;t.forEach(t=>{!i&&this.c.find(i=>i.layoutIndex===t)||(s=this.ut(t),this.c[s].layoutIndex=t,this.c[s].position=this.mt(t),this.c[s].element.style.transform=`translateX(${this.mt(s-t)}px)`)})}mt(t){return-t*(this.b+this.p)}gt(t){this.i.style.transform=`translate3d(${t}px, 0, 0)`,this.v=t}et(t){this.i&&!this.N&&this.gt(this.c[t].position)}R(){this.autoFocus&&this.c[this.selected].element.focus()}H(){const t=[];for(let i=0;i<this.slidesPerView;i++)t.push((this.selected+i)%this.c.length);let i;this.c.map(t=>t.element).forEach((s,e)=>{i=void 0!==t.find(t=>t===e),s.setAttribute(\"aria-hidden\",i?\"false\":\"true\"),i?(s.removeAttribute(\"inert\"),s.setAttribute(\"tabindex\",-1)):s.setAttribute(\"inert\",\"\")})}ot(){if((!this.pagination||this.pagination&&this.o.assignedNodes().length!==this.l+1)&&(this.a.forEach(t=>{t.removeEventListener(\"macro-carousel-pagination-indicator-clicked\",this),this.removeChild(t)}),this.a.length=0),this.pagination){if(this.o.assignedNodes().length!==this.l+1){const t=document.createDocumentFragment();for(let i=0;i<=this.l;i++){const s=document.createElement(\"macro-carousel-pagination-indicator\");s.textContent=i,s.setAttribute(\"slot\",\"paginationSlot\"),s.setAttribute(\"aria-label\",`Go to item ${i+1}`),s.addEventListener(\"macro-carousel-pagination-indicator-clicked\",this),t.appendChild(s),this.a.push(s)}this.appendChild(t)}this.a.forEach((t,i)=>{i===this.selected?t.classList.add(\"selected\"):t.classList.remove(\"selected\")})}}V(t){this.selected=parseInt(t.target.textContent,10)}pt(t){const i=document.createElement(\"macro-carousel-nav-button\");return i.classList.add(t),i.setAttribute(\"slot\",\"navigationSlot\"),i.addEventListener(\"macro-carousel-nav-button-clicked\",this),/next/.test(t)&&i.setAttribute(\"flipped\",\"\"),i}at(){(!this.navigation||this.navigation&&2!==this.n.assignedNodes().length)&&(this.n.assignedNodes().forEach(t=>{t.removeEventListener(\"macro-carousel-nav-button-clicked\",this),this.removeChild(t)}),this.r=void 0,this.h=void 0),this.navigation&&(2!==this.n.assignedNodes().length&&(this.r=this.pt(\"macro-carousel-previous\"),this.appendChild(this.r),this.h=this.pt(\"macro-carousel-next\"),this.appendChild(this.h)),this.r.disabled=!this.loop&&0===this.selected,this.h.disabled=!this.loop&&this.selected===this.l,this.r.setAttribute(\"aria-label\",`Go to ${this.loop&&0===this.selected?\"last\":\"previous\"} item`),this.h.setAttribute(\"aria-label\",`Go to ${this.loop&&this.selected===this.l?\"first\":\"next\"} item`))}tt(){this.d=this.loop&&this.dt()>1}bt(){return this.s.assignedNodes({flatten:!0}).forEach(t=>{t.nodeType===Node.TEXT_NODE&&t.parentNode&&t.parentNode.removeChild(t)}),this.s.assignedNodes({flatten:!0}).filter(t=>t.nodeType===Node.ELEMENT_NODE).map((t,i)=>({element:t,layoutIndex:i,position:this.mt(i)}))||[]}q(){this.c=this.bt(),this.c.forEach(t=>{t.element.hasAttribute(\"tabindex\")||t.element.setAttribute(\"tabindex\",-1),\"list\"===this.getAttribute(\"role\")&&t.element.setAttribute(\"role\",\"listitem\")});const t=this.c.length>0&&-1===this.l;this.Q(),t&&(this.selected=this.selected)}X(){1!==this.e.assignedNodes().length&&(this.vt=document.createElement(\"div\"),this.vt.setAttribute(\"slot\",\"ariaSlot\"),this.vt.setAttribute(\"aria-live\",\"polite\"),this.vt.setAttribute(\"aria-atomic\",\"true\"),this.appendChild(this.vt));const t=this.c[this.selected].layoutIndex;let i=\"\";for(let s=0;s<this.slidesPerView;s++)i+=(t+s)%this.c.length+1,s<this.slidesPerView-2?i+=\", \":s<this.slidesPerView-1&&(i+=\" and \");this.vt.textContent=`Item${this.slidesPerView>1?\"s\":\"\"} ${i} of ${this.c.length} visible`}nt(){this.disableDrag?(this.t.removeEventListener(\"touchstart\",this),this.t.removeEventListener(\"mousedown\",this)):(this.t.addEventListener(\"touchstart\",this,getEvtListenerOptions(!0)),this.t.addEventListener(\"mousedown\",this,getEvtListenerOptions(!0)))}Y(t){this.k||(this.N=!1,this.k=!0,this._=t.id,this.S=this.M=this.W=t.x,this.z=this.C=this.P=t.y,this.L=this.c[this.selected].layoutIndex,this.G=[],this.wt(this.M),window.addEventListener(\"touchmove\",this,getEvtListenerOptions(!1)),window.addEventListener(\"mousemove\",this,getEvtListenerOptions(!1)),window.addEventListener(\"mouseup\",this),window.addEventListener(\"touchend\",this),window.addEventListener(\"touchcancel\",this))}U(t){if(this.k&&t.id===this._){this.W=t.x,this.P=t.y;const i=Math.abs(this.W-this.S),s=Math.abs(this.P-this.z);i/s>o||0===s||s>i&&s-i<n?(t.event.preventDefault(),this.wt(this.M),this.B(),this.ft()):this.K()}}J(t){this.k&&t.id===this._&&this.K()}K(){this.k=!1,this._=void 0,this.wt(this.M),window.removeEventListener(\"touchmove\",this),window.removeEventListener(\"mousemove\",this),window.removeEventListener(\"touchend\",this),window.removeEventListener(\"mouseup\",this),window.removeEventListener(\"touchcancel\",this),this.kt()}wt(t){const i=Date.now();for(;this.G.length>0&&!(i-this.G[0].time<=100);)this.G.shift();this.G.push({x:t,time:i})}ft(){this.F||requestAnimationFrame(this.xt.bind(this)),this.F=!0}xt(){const t=this.v+this.W-this.M;let i,s;if(this.c.forEach((e,o)=>{e.position>=t&&(void 0===s||e.position<s)&&(s=e.position,i=o)}),this.d){let t;if(void 0===i){const s=this.c.slice(0).sort((t,i)=>t.layoutIndex>i.layoutIndex)[0];for(i=s.layoutIndex-1;i<0;)i+=this.c.length;i%=this.c.length,t=s.layoutIndex-2}else t=this.c[i].layoutIndex-1;const s=[],e=t+this.slidesPerView+2;for(let i=t;i<e;i++)s.push(i);this.st(s)}else i=i||0;this.L=this.c[i].layoutIndex,this.gt(t),this.M=this.W,this.C=this.P,this.F=!1}kt(){this.N=!0;const t=this.G[this.G.length-1],i=this.G[0],o=t.x-i.x||0;this.u=Math.floor(this.L/this.c.length);const a=this.ut(this.L);let n;if(0===o)this.T=0,n=this.c[a].position-this.v>this.b/2?this.ht(a):a;else{this.T=function(t,i,s){if(0===t)throw new RangeError(\"x must be different from `0`\");return t/Math.abs(t)*clamp(Math.abs(t),i,s)}(o,this.$,this.I);let t=1;const i=this.g*s;for(;Math.abs(o)>i*t&&t<this.slidesPerView+e;)t+=1;o>0&&(t-=1);let r=a;for(let i=0;i<t;i++)r=o<0?this.ht(r):this.rt(r);n=r}this.selected=clamp(n,0,this.l),requestAnimationFrame(this.yt.bind(this))}yt(){if(!this.N)return;const t=this.c[this.selected].position;this.T+=this.D*(t-this.v),this.T*=this.A;const i=this.v+this.T;(Math.abs(t-i)>=1||Math.abs(this.T)>=1)&&!this.reducedMotion?(this.gt(i),requestAnimationFrame(this.yt.bind(this))):(this.gt(t),this.N=!1,this.O(),requestAnimationFrame(()=>{this.H(),this.R(),this.X()}))}});class MacroCarouselButton extends HTMLElement{constructor(){super();const t=Object.getPrototypeOf(this).constructor.template;this.attachShadow({mode:\"open\"}),this.shadowRoot.appendChild(t.content.cloneNode(!0))}connectedCallback(){window.ShadyCSS&&window.ShadyCSS.styleElement(this),this._t=0,this.hasAttribute(\"role\")||this.setAttribute(\"role\",\"button\"),this.hasAttribute(\"tabindex\")?this._t=this.getAttribute(\"tabindex\"):this.setAttribute(\"tabindex\",this._t),this.j(\"disabled\"),this.addEventListener(\"keydown\",this),this.addEventListener(\"click\",this)}j(t){if(this.hasOwnProperty(t)){const i=this[t];delete this[t],this[t]=i}}static get observedAttributes(){return[\"disabled\"]}set disabled(t){booleanSetter(this,\"disabled\",t)}get disabled(){return booleanGetter(this,\"disabled\")}attributeChangedCallback(t,i,s){switch(t){case\"disabled\":if(i===s)return;this.disabled?(this._t=this.getAttribute(\"tabindex\"),this.removeAttribute(\"tabindex\"),this.setAttribute(\"aria-disabled\",\"true\")):(this.setAttribute(\"tabindex\",this._t),this.setAttribute(\"aria-disabled\",\"false\"))}}handleEvent(t){this.disabled?t.preventDefault():\"click\"===t.type?this.St&&this.St():\"keydown\"!==t.type||32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),this.St&&this.St())}}const r=document.createElement(\"template\");r.innerHTML='<style>:host{--macro-carousel-navigation-color:#000;--macro-carousel-navigation-color-focus:var(--macro-carousel-navigation-color);--macro-carousel-navigation-color-background:transparent;--macro-carousel-navigation-color-background-focus:#f0f0f0;--macro-carousel-navigation-button-size:48px;--macro-carousel-navigation-icon-size:24px;--macro-carousel-navigation-icon-mask:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 24 24\\'%3E%3Cpath d=\\'M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\\'/%3E%3C/svg%3E\");position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;min-width:var(--macro-carousel-navigation-button-size);min-height:var(--macro-carousel-navigation-button-size);border-radius:50%;overflow:hidden;cursor:pointer;contain:paint}:host([disabled]){opacity:.2}.bg,.content{position:absolute;top:0;right:0;bottom:0;left:0}.content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:var(--macro-carousel-navigation-color-background)}.bg{z-index:0;background-color:var(--macro-carousel-navigation-color-background-focus);opacity:0;will-change:opacity}.icon{position:relative;z-index:1;width:var(--macro-carousel-navigation-icon-size);height:var(--macro-carousel-navigation-icon-size);color:var(--macro-carousel-navigation-color);background:var(--macro-carousel-navigation-icon-mask)}@supports ((-webkit-mask-image:var(--macro-carousel-navigation-icon-mask)) or (mask-image:var(--macro-carousel-navigation-icon-mask))){.icon{background:var(--macro-carousel-navigation-color);-webkit-mask-image:var(--macro-carousel-navigation-icon-mask);mask-image:var(--macro-carousel-navigation-icon-mask)}}:host([flipped]) .icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.focus-visible) .bg,:host(:active:not([disabled])) .bg,:host(:focus:not([disabled])) .bg,:host(:hover:not([disabled])) .bg{opacity:1}:host-context(.js-focus-visible):host(:focus:not(:active):not(:hover):not(.focus-visible)) .bg{opacity:0}@supports ((-webkit-mask-image:var(--macro-carousel-navigation-icon-mask)) or (mask-image:var(--macro-carousel-navigation-icon-mask))){:host(.focus-visible) .icon,:host(:active:not([disabled])) .icon,:host(:focus:not([disabled])) .icon,:host(:hover:not([disabled])) .icon{background:var(--macro-carousel-navigation-color-focus)}:host-context(.js-focus-visible):host(:focus:not(:active):not(:hover):not(.focus-visible)) .icon{background:var(--macro-carousel-navigation-color)}}</style> <div class=\"content\"> <div class=\"bg\"></div> <div class=\"icon\"></div> </div> ',window.ShadyCSS&&window.ShadyCSS.prepareTemplate(r,\"macro-carousel-nav-button\");window.customElements.define(\"macro-carousel-nav-button\",class MacroCarouselNavButton extends MacroCarouselButton{static get template(){return r}St(){this.dispatchEvent(new CustomEvent(\"macro-carousel-nav-button-clicked\"))}});const h=document.createElement(\"template\");h.innerHTML='<style>:host{--macro-carousel-pagination-color:#999;--macro-carousel-pagination-color-selected:#000;--macro-carousel-pagination-size-clickable:24px;--macro-carousel-pagination-size-dot:8px;--macro-carousel-pagination-border:1px solid var(--macro-carousel-pagination-color);--macro-carousel-pagination-border-selected:1px solid var(--macro-carousel-pagination-color-selected);position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:var(--macro-carousel-pagination-size-clickable);height:var(--macro-carousel-pagination-size-clickable);overflow:hidden;cursor:pointer;contain:paint}.bg,.fg,:host{border-radius:50%}.bg,.fg{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:block;width:var(--macro-carousel-pagination-size-dot);height:var(--macro-carousel-pagination-size-dot);-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--macro-carousel-pagination-color);content:\"\"}.bg{-webkit-transform:translate(-50%,-50%) scale(2);transform:translate(-50%,-50%) scale(2);opacity:0;will-change:opacity}.fg{border:var(--macro-carousel-pagination-border)}:host(.focus-visible) .bg,:host(:hover) .bg{opacity:.2}:host(.selected) .fg{background-color:var(--macro-carousel-pagination-color-selected);border:var(--macro-carousel-pagination-border-selected)}</style> <div class=\"bg\"></div> <div class=\"fg\"></div> ',window.ShadyCSS&&window.ShadyCSS.prepareTemplate(h,\"macro-carousel-pagination-indicator\");window.customElements.define(\"macro-carousel-pagination-indicator\",class MacroCarouselPaginationIndicator extends MacroCarouselButton{static get template(){return h}St(){this.dispatchEvent(new CustomEvent(\"macro-carousel-pagination-indicator-clicked\"))}})}();\n","import { LitElement, html, css } from 'lit-element';\nexport * from 'macro-carousel';\nexport { ModalDialog } from 'wgnhs-layout';\n\nexport class SitePhotos extends LitElement {\n  static get properties() {\n    return {\n      photos: Array,\n      clickedImg: {\n        type: String,\n        attribute: false\n      },\n      printLayout: {\n        type: Boolean,\n        attribute: 'print-layout'\n      }\n    };\n  }\n\n  constructor() {\n    super();\n  }\n\n  static get styles() {\n    return css`\n      macro-carousel {\n        padding: 0 3em;\n        max-width: 75vw;\n        margin: 0 auto;\n      }\n      .slide {\n        min-height: 40vh;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      .slide[data-compact] {\n        max-height: 40vh;\n      }\n      .slide img {\n        max-width: 100%;\n      }\n      .text {\n        background-color: var(--palette-accent-transparent);\n        color: var(--palette-white);\n        position: absolute;\n        left: 0;\n        width: 100%;\n      }\n      .text p {\n        margin: 0 1em;\n      }\n      .title {\n        top: 0;\n      }\n      .caption {\n        bottom: 0;\n        max-height: calc(var(--line-height) * 3);\n        overflow: hidden;\n      }\n    `;\n  }\n\n  render() {\n    return html`\n    ${(!this.photos)?'':html`\n    <macro-carousel navigation pagination>\n    <slot>\n      ${this.photos.map((el) => (!el.FileURL)?'':html`\n      <div class=\"slide\" title=\"Double-click to expand\" ?data-compact=\"${!this.printLayout}\">\n        <img \n          src=\"${el.FileURL}\"\n          alt=\"${el.Description}\"\n          @dblclick=\"${this.handleImageClick}\"\n        />\n\n        ${(!el.Image_Number)?'':html`\n        <div class=\"title text\">\n          <p>\n            PP${el.Image_Number}\n          </p>\n        </div>\n        `}\n\n        ${(!el.Description)?'':html`\n        <div class=\"caption text\">\n          <p>\n            ${el.Description}\n          </p>\n        </div>\n        `}\n      </div>\n      `)}\n    </slot>\n    </macro-carousel>\n    <modal-dialog></modal-dialog>\n    `}\n    `;\n  }\n\n  firstUpdated() {\n    this.$modal = this.renderRoot.querySelector('modal-dialog');\n  }\n\n  handleImageClick(e) {\n    this.clickedImg = e.target.src;\n    this.$modal.source = this.clickedImg;\n    this.$modal.toggleOpen();\n  }\n}\ncustomElements.define('site-photos', SitePhotos);","import { LitElement, html, css } from 'lit-element';\nimport { genId } from 'wgnhs-common';\nimport { keyLookup, ignoredKeys } from '../site-data.js';\nexport { AppCollapsible } from 'wgnhs-layout';\nexport { SiteWaterQuality } from 'wgnhs-viz';\nexport { SiteBedMaterials } from 'wgnhs-viz';\nimport { styles } from 'wgnhs-styles';\n\nexport { SiteSketchButton } from './site-sketch.js';\nexport { SitePhotos } from './site-photos.js';\n\nexport class SiteDetails extends LitElement {\n  static get properties() {\n    return {\n      siteinfo: {\n        type: Object\n      },\n      photos: {\n        type: Array\n      },\n      pdfpanel: {\n        type: Object\n      },\n      pdfsrc: {\n        type: String\n      },\n      printLayout: {\n        type: Boolean,\n        attribute: 'print-layout'\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.genId = (function() {\n      const memo = {};\n      return function(index) {\n        if (!memo[index]) {\n          memo[index] = genId();\n        }\n        return memo[index];\n      }\n    })();\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css`\n      [data-element=\"table\"] {\n        display: grid;\n        grid-template-columns: 30% 1fr;\n        grid-gap: 0.5em;\n        width: 100%;\n      }\n\n      td {\n        padding: 0.5em;\n      }\n\n      .label {\n        background-color: var(--palette-dark);\n        font-weight: var(--font-weight-bold);\n      }\n\n      .detail {\n        background-color: var(--palette-light);\n      }\n\n      .header {\n        position: -webkit-sticky;\n        position: sticky;\n        top: 0px;\n        background-color: var(--palette-white);\n        padding: var(--font-size-extra-large) var(--border-radius);\n        z-index: 10;\n        width: 100%;\n        box-sizing: border-box;\n        display: flex;\n        justify-content: space-between;\n      }\n      .header h1 {\n        padding: 0;\n        max-width: 70%;\n        text-align: center;\n      }\n      .header i {\n        font-size: var(--icon-size-large);\n        color: var(--palette-accent);\n        cursor: pointer;\n      }\n      \n      [data-closed] {\n        display: none;\n      }\n\n      app-collapsible i {\n        font-size: var(--icon-size-large);\n      }\n    `];\n  }\n\n  get renderTable() {\n    let key = 0, value = 1;\n    return Object.entries(this.siteinfo).filter((el, index) => {\n      return !ignoredKeys.includes(el[key]);\n    }).map((el, index) => html`\n    <td class=\"label\" title=\"${(keyLookup[el[key]])?keyLookup[el[key]].desc:el[key]}\">\n      <label for=\"${this.genId(index)}\" >\n        ${(keyLookup[el[key]])?keyLookup[el[key]].title:el[key]}\n      </label>\n    </td>\n    <td class=\"detail\" title=\"${(keyLookup[el[key]])?keyLookup[el[key]].desc:el[key]}\">\n      <span id=\"${this.genId(index)}\">\n        ${(keyLookup[el[key]]&&keyLookup[el[key]].transform)?keyLookup[el[key]].transform(el[value]):el[value]}\n      </span>\n    </td>\n  `)\n  }\n\n  render() {\n    return html`\n      ${(!this.siteinfo)? '' : html`\n        <div class=\"header\">\n          <span>\n            <a href=\"${window.router.link('view', this.siteinfo)}\" onclick=\"event.preventDefault()\"><i class=\"material-icons toggle-print\" title=\"Back to website\" @click=\"${this.fireTogglePrint}\" ?data-closed=\"${!this.printLayout}\">arrow_back</i></a>\n            <a href=\"${window.router.link('entry')}\" onclick=\"event.preventDefault()\"><i class=\"material-icons clear-selection\" title=\"Clear selection\" @click=\"${this.fireClearSelection}\" ?data-closed=\"${this.printLayout}\">arrow_back</i></a>\n          </span>\n          <h1>${this.siteinfo.County} County Spring #${this.siteinfo.SpringID}</h1>\n          <span>\n            <a href=\"${window.router.link('print', this.siteinfo)}\" onclick=\"event.preventDefault()\"><i class=\"material-icons toggle-print\" title=\"Print layout\" @click=\"${this.fireTogglePrint}\" ?data-closed=\"${this.printLayout}\">zoom_out_map</i></a>\n            <i class=\"material-icons print-action\" title=\"Print this page\" @click=\"${this.handlePrint}\" ?data-closed=\"${!this.printLayout}\">print</i>\n          </span>\n        </div>\n        <site-photos .photos=\"${this.photos}\" ?print-layout=\"${this.printLayout}\"></site-photos>\n        <site-sketch-button\n          .panel=${this.pdfpanel}\n          src=\"${this.pdfsrc}\"></site-sketch-button>\n        <app-collapsible open>\n          <i slot=\"header-before\" class=\"material-icons\" title=\"Water quality\">bar_chart</i>\n          <span slot=\"header\">Water quality</span>\n          <i slot=\"header-after\" class=\"material-icons\">expand_more</i>\n          <div slot=\"content\">\n            <site-water-quality .siteinfo=\"${this.siteinfo}\"></site-water-quality>\n          </div>\n        </app-collapsible>\n        <app-collapsible open>\n          <i slot=\"header-before\" class=\"material-icons\" title=\"Spring-bed materials\">bar_chart</i>\n          <span slot=\"header\">Spring-bed materials</span>\n          <i slot=\"header-after\" class=\"material-icons\">expand_more</i>\n          <div slot=\"content\">\n            <site-bed-materials .siteinfo=\"${this.siteinfo}\"></site-bed-materials> \n          </div>\n        </app-collapsible>\n        <app-collapsible ?open=\"${this.printLayout}\">\n          <i slot=\"header-before\" class=\"material-icons\" title=\"All data\">view_list</i>\n          <span slot=\"header\">All data</span>\n          <i slot=\"header-after\" class=\"material-icons\">expand_more</i>\n          <div slot=\"content\" data-element=\"table\">\n            ${this.renderTable}\n          </div>\n        </app-collapsible>\n      `}\n    `;\n  }\n\n  handlePrint() {\n    window.print();\n  }\n\n  fireClearSelection() {\n    let event = new CustomEvent('clear-selection', {\n      bubbles: true,\n      detail: {}\n    });\n    this.dispatchEvent(event);\n  }\n  fireTogglePrint() {\n    let event = new CustomEvent('toggle-print', {\n      bubbles: true,\n      detail: {\n        on: !this.printLayout,\n        params: this.siteinfo\n      }\n    });\n    this.dispatchEvent(event);\n  }\n}\ncustomElements.define('site-details', SiteDetails);\n","import { LitElement, html, css } from 'lit-element';\nimport { genId } from 'wgnhs-common';\nimport { styles } from 'wgnhs-styles';\n\nexport class MapControls extends LitElement {\n  static get properties() {\n    return {\n\n    };\n  }\n\n  constructor() {\n    super();\n  }\n\n  static get styles() {\n    return [\n      ...styles,\n      css`\n      .option-container {\n        box-sizing: border-box;\n        padding: var(--border-radius)\n      }\n      .icon {\n        font-size: var(--icon-size-extra-large);\n      }\n    `];\n  }\n\n  render() {\n    return html`\n      <div class=\"option-container\">\n        <map-control-item @click=\"${this.typePoints}\">\n          <div slot=\"item-before\"><span>Spring Type</span></div>\n          <div slot=\"item\"></div>\n          <i slot=\"item-after\" class=\"icon material-icons\" title=\"View on map\">map</i>\n        </map-control-item>\n        <map-control-item @click=\"${this.qPoints}\">\n          <div slot=\"item-before\"><span>Discharge</span></div>\n          <div slot=\"item\"></div>\n          <i slot=\"item-after\" class=\"icon material-icons\" title=\"View on map\">map</i>\n        </map-control-item>\n        <map-control-item @click=\"${this.condPoints}\">\n          <div slot=\"item-before\"><span>Conductivity</span></div>\n          <div slot=\"item\"></div>\n          <i slot=\"item-after\" class=\"icon material-icons\" title=\"View on map\">map</i>\n        </map-control-item>\n        <map-control-item @click=\"${this.normalPoints}\">\n          <div slot=\"item-before\">Reset</div>\n          <i slot=\"item-after\" class=\"icon material-icons\" title=\"View on map\">clear</i>\n        </map-control-item>\n      </div>\n    `;\n  }\n\n  handleSelection(fn) {\n\n  }\n\n  _fire(eventName, detail) {\n    let event = new CustomEvent(eventName, {\n      bubbles: true,\n      detail: detail || {}\n    });\n    this.dispatchEvent(event);\n  }\n  normalPoints() {\n    this._fire('stylepoints', {type: 'normal'});\n  }\n  typePoints() {\n    this._fire('stylepoints', {type: 'type'});\n  }\n  condPoints() {\n    this._fire('stylepoints', {type: 'cond'});\n  }\n  qPoints() {\n    this._fire('stylepoints', {type: 'q'});\n  }\n}\ncustomElements.define('map-controls', MapControls);\n\nexport class MapControlItem extends LitElement {\n  static get properties() {\n    return {\n      selected: {\n        type: Boolean\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.genId = genId();\n  }\n\n  static get styles() {\n    return css`\n\n    input[type='checkbox'] {\n      display: none;\n    }\n    .lbl-toggle {\n      display: block;\n      text-align: center;\n      cursor: pointer;\n    }\n    .lbl-toggle:hover {\n      color: var(--palette-900);\n    }\n    .lbl-toggle:focus {\n      outline: thin dotted;\n    }\n    .option-row {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n\n      background: var(--palette-white);\n      color: var(--palette-accent);\n      border: 1px solid var(--palette-light);\n      border-radius: var(--border-radius);\n      padding: var(--font-size);\n      margin: var(--border-radius) 0;\n    }\n    /* .toggle:checked + .option-row {\n      background: var(--palette-light);\n      color: var(--palette-900);\n    } */\n    .option-row > div {\n      display: flex;\n      align-items: center;\n    }\n    `;\n  }\n\n  render() {\n    return html`\n    <input id=\"${this.genId}\" class=\"toggle\" type=\"checkbox\">\n    <label for=\"${this.genId}\" class=\"lbl-toggle option-row\" tabindex=\"0\">\n      <!-- <div class=\"option-row\"> -->\n        <div><slot name=\"item-before\"></slot></div>\n        <div><slot name=\"item\"></slot></div>\n        <div><slot name=\"item-after\"></slot></div>\n      <!-- </div> -->\n    </label>\n    `;\n  }\n\n  firstUpdated() {\n    this.$input = this.renderRoot.querySelector('.toggle');\n    let myLabels = this.renderRoot.querySelectorAll('.lbl-toggle');\n\n    Array.from(myLabels).forEach(label => {\n      label.addEventListener('keydown', e => {\n        // 32 === spacebar\n        // 13 === enter\n        if (e.which === 32 || e.which === 13) {\n          e.preventDefault();\n          label.click();\n        };\n      });\n    });\n  }\n}\ncustomElements.define('map-control-item', MapControlItem);","import { SiteMap } from './map/site-map.js';\nimport { SiteData } from './site-data.js';\nimport { SiteRouter } from './site-router.js';\n\nexport { SiteDetails } from './details/site-details.js';\nexport { MapControls } from './map/map-controls.js';\n\nwindow.siteMap = new SiteMap();\nwindow.sidebar = document.querySelector('#sidebar');\nwindow.pdfPanel = document.querySelector('#sketch');\nwindow.pdfDownload = document.querySelector('#sketch-download');\ndocument.querySelectorAll('site-details').forEach(function(details) {\n  details['pdfpanel'] = window.pdfPanel;\n});\n\nwindow.siteMap.once('init', function() {\n  window.siteData = new SiteData(window.siteMap.springs, window.siteMap.springPhotos, window.siteMap.springSketches);\n  window.aggrData = siteData.aggrData;\n\n  var deselectFeature = function() {\n    document.querySelectorAll('site-details').forEach(function(details) {\n      details['siteinfo'] = null;\n      details['photos'] = null;\n      pdfDownload['file'] = null;\n    });\n  }\n\n  async function selectFeature(info) {\n    deselectFeature();\n    return Promise.all([\n      window.siteData.lookupPhotos(info['Site_Code']).catch(()=>[]), \n      window.siteData.lookupSketches(info['Site_Code']).catch(()=>[])\n    ]).then(function(resolved) {\n      // console.log('loaded site photos and sketches');\n      document.querySelectorAll('site-details').forEach(function(details) {\n        details['siteinfo'] = info;\n        details['photos'] = resolved[0];\n        if (resolved[1]) {\n          details['pdfsrc'] = resolved[1][0];\n          pdfDownload['file'] = resolved[1][0];\n        }\n      });\n    })\n  };\n\n  window.router = new SiteRouter();\n  window.router.addRoute({\n    name: 'entry',\n    url: '/',\n    onEnter: function(trans, state) {\n      // console.log('route-entry');\n      window.siteMap.clearSelection();\n      deselectFeature();\n      document.querySelector('#app').setAttribute('data-view', 'app');\n      window.sidebar.switchTab('default');\n      window.siteMap.setVisibility(true);\n    },\n    onExit: function(trans, state) {\n\n    }\n  });\n  window.router.addRoute({\n    name: 'view',\n    url: '/view/:Site_Code',\n    onEnter: function(trans, state) {\n      // console.log('route-view');\n      let params = trans.params();\n      let attr = window.siteMap.selectPoint(params);\n      if (attr) {\n        document.querySelectorAll('site-details').forEach(function(details) {\n          details['printLayout'] = false;\n        });\n        selectFeature(attr).then(() => {\n          document.querySelector('#app').setAttribute('data-view', 'app');\n          window.sidebar.switchTab('details');\n          window.siteMap.setVisibility(true);\n        })\n      } else {\n        window.router.clearRoute();\n      }\n    },\n    onExit: function(trans, state) {\n      window.pdfPanel.hide();\n    }\n  });\n  window.router.addRoute({\n    name: 'print',\n    url: '/print/:Site_Code',\n    onEnter: function(trans, state) {\n      // console.log('route-print');\n      let params = trans.params();\n      let attr = window.siteMap.selectPoint(params);\n      if (attr) {\n        document.querySelectorAll('site-details').forEach(function(details) {\n          details['printLayout'] = true;\n        });\n        selectFeature(attr).then(() => {\n          document.querySelector('#app').removeAttribute('data-view');\n          window.sidebar.switchTab('details');\n          window.siteMap.setVisibility(false);\n        })\n      } else {\n        window.router.clearRoute();\n      }\n    },\n    onExit: function(trans, state) {\n\n    }\n  });\n  window.router.onEnterAll({}, () => {\n    document.querySelector('#spinner').setAttribute('data-closed', true);\n  });\n  window.router.start();\n\n  window.siteMap.on('interaction', (params) => {\n    if (params['Site_Code']) {\n      window.router.setRoute('view', params);\n    } else {\n      window.router.clearRoute();\n    }\n  });\n});\n\ndocument.addEventListener('clear-selection', function(e) {\n  window.router.clearRoute();\n});\n\ndocument.addEventListener('toggle-print', function(e) {\n  if (e.detail.on) {\n    window.router.setRoute('print', e.detail.params);\n  } else {\n    window.router.setRoute('view', e.detail.params);\n  }\n});\n\ndocument.addEventListener('toggle-pdf-panel', function(e) {\n  window.siteMap.setVisibility(e.detail.closed);\n});\n\ndocument.addEventListener('stylepoints', function(e) {\n  if (e.detail.type) {\n    window.siteMap.updatePoints(e.detail.type + 'points');\n  }\n});","import { RestylingCircleMarker } from './restyling-circle-marker.js';\n\nexport class SiteMap extends window.L.Evented {\n  constructor() {\n    super();\n    this.selected = false;\n    this._highlight = null;\n\n    /* ~~~~~~~~ Map ~~~~~~~~ */\n    //create a map, center it, and set the zoom level. \n    //set zoomcontrol to false because we will add it in a different corner. \n    const map = this.map = L.map('map', {zoomControl:false}).setView([45, -89.623861], 7);\n    this.el = document.querySelector('#map');\n     \n     /* ~~~~~~~~ Zoom Control ~~~~~~~~ */\n    //place a zoom control in the top right: \n    new L.Control.Zoom({position: 'topright'}).addTo(map);\n\n     \n    /* ~~~~~~~~ Basemap Layers ~~~~~~~~ */\n     \n    // basemaps from Open Street Map\n    const osmhot = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors', \n       label: \"OpenStreetMap Humanitarian\"\n    }).addTo(map);\n\n    // Esri basemaps \n    const esrisat = L.esri.basemapLayer('Imagery', {label: \"Esri Satellite\"});\n\n    // add the basemap control to the map  \n    var basemaps = [osmhot, esrisat]; \n    map.addControl(L.control.basemaps({\n       basemaps: basemaps, \n       tileX: 0, \n       tileY: 0, \n       tileZ: 1\n\n    })); \n\n\n    /* +++++++++++ Springs layer +++++++++++ */ \n    this.springs = L.esri.featureLayer({\n      url: \"https://data.wgnhs.wisc.edu/arcgis/rest/services/springs/springs_inventory/MapServer/1\",\n      pointToLayer: function(geoJsonPoint, latlon) {\n        return new RestylingCircleMarker(latlon, {\n          weight: 2,\n          color: 'var(--palette-blue)',\n          radius: RestylingCircleMarker.calcRadius(map.getZoom())\n        });\n      }\n    }).on('click', (function(e) {\n      if (this._highlight !== e.propagatedFrom) {\n        this.fire('interaction', e.propagatedFrom.feature.properties);\n      } else {\n        this.fire('interaction');\n      }\n    }).bind(this));\n\n    /**\n     * Set up data layers for querying\n     */\n    this.springPhotos = L.esri.featureLayer({\n      url: \"https://data.wgnhs.wisc.edu/arcgis/rest/services/springs/springs_inventory/MapServer/6\"\n    });\n    this.springSketches = L.esri.featureLayer({\n      url: \"https://data.wgnhs.wisc.edu/arcgis/rest/services/springs/springs_inventory/MapServer/4\"\n    });\n\n    this.springs.once('load', () => {\n      this.fire('init');\n    });\n\n    this.springs.addTo(map);\n  }\n\n  getPoint(params) {\n    let result;\n    this.springs.eachFeature(function(obj) {\n      if (obj.feature.properties['Site_Code'] === params['Site_Code']) {\n        result = obj;\n      }\n    });\n    return result;\n  }\n\n  zoomToPoint(params) {\n    let point = this.getPoint(params);\n    if (point) {\n      this.map.setZoomAround(point.getLatLng(), 15);\n    }\n  }\n\n  getHighlightPoint() {\n    // console.log('retrieve highlight point');\n    let result = this._highlight;\n    return result;\n  }\n\n  setHighlightPoint(point) {\n    if (point) {\n      // console.log('set highlight point');\n      this._highlight = point;\n      this._highlight.bringToFront()\n      this._highlight.highlight();\n    } else {\n      this.clearSelection();\n    }\n  }\n\n  selectPoint(site) {\n    let result = null;\n    // console.log('select point on map:', site);\n    let point = this.getPoint(site);\n    if (point) {\n      result = point.feature.properties;\n      let highlightPoint = this.getHighlightPoint();\n      if (point !== highlightPoint) {\n        this.clearSelection();\n        this.setHighlightPoint(point);\n      }\n    }\n    return result;\n  }\n\n  clearSelection() {\n    // console.log('clear highlight group');\n    if (this._highlight) {\n      this._highlight.bringToBack();\n      this._highlight.removeHighlight();\n    }\n    this._highlight = null;\n  }\n\n  updatePoints(name) {\n    this.map.fire(name);\n  }\n\n  setVisibility(isVisible) {\n    if (isVisible) {\n      this.el.removeAttribute('data-closed');\n      this.map.invalidateSize();\n    } else {\n      this.el.setAttribute('data-closed', true);\n    }\n  }\n\n\n}\n"],"names":["colorRange","RestylingCircleMarker","L","CircleMarker","extend","getEvents","zoomend","this","_restyle","normalpoints","_normal","typepoints","_orifice","condpoints","_conductivity","qpoints","_discharge","e","setRadius","calcRadius","target","getZoom","_activeBackup","setStyle","color","feature","properties","Orifice_Geom","length","binWidth","aggrData","aggr","max","min","i","highlight","options","removeHighlight","a","Math","floor","SiteData","[object Object]","springs","springPhotos","springSketches","_springPhotos","_springSketches","_aggrKeys","_gatherAggrData","site","Promise","resolve","reject","query","where","run","err","col","photos","features","map","value","sort","b","Image_Number","sketches","index","layer","aggrKeys","data","eachFeature","obj","l","result","forEach","key","push","roundToTwoDecimals","item","toFixed","ignoredKeys","keyLookup","pH","title","desc","Conductivity_uS","Water_Temp_C","SpringID","County","Surveyor","Date","transform","toISOString","substring","Time","Easting_WTM","Northing_WTM","Horz_Precision_m","Max_PDOP","Elevation_m","elevation_source","Land_Owner","Access","Ease_Access","Land_Cover","Air_Temp_F","Cloud_Cover_percent","Wind_Speed_mph","Aspect_degrees","Slope_degrees","Slope_Variability","Condition","Type_of_Disturbance","Spring_Area_sqm","Surface_Types","Width_ft","Width_Location","Depth_cm","Depth_Location","Percent_organic","Percent_fines","Percent_sand","Percent_gravel","Percent_cobble","Percent_boulder","Percent_bedrock","Bedrock_Comp","Spring_Type","Spring_Source","Discharge_cfs","Flow_Accuracy","Discharge_Meas","Flow_Location","Flow_percent","Veg_Bed_Cover_percent","Veg_Bank_Cover_percent","Notes","GlobalID","gps_time_date","sat_signals","DEFAULT_ROUTE","TOGGLE_EVENT","customElements","define","LitElement","src","type","String","panel","Object","attribute","closed","Boolean","super","styles","css","html","toggle","prev","has","request","show","hide","detail","url","requestUpdate","connectedCallback","__altHandler","handleAlt","bind","document","addEventListener","removeEventListener","disconnectedCallback","t","getEvtListenerOptions","defineProperty","get","window","passive","clamp","s","RangeError","booleanSetter","setAttribute","removeAttribute","booleanGetter","hasAttribute","intSetter","intGetter","getAttribute","parseInt","normalizeEvent","targetTouches","changedTouches","x","clientX","y","clientY","id","identifier","event","createElement","innerHTML","ShadyCSS","prepareTemplate","o","abs","round","tan","PI","HTMLElement","attachShadow","mode","shadowRoot","appendChild","content","cloneNode","querySelector","n","r","h","c","d","u","m","g","p","v","w","f","k","_","S","z","M","C","W","P","G","F","I","$","A","D","T","N","styleElement","j","selected","O","q","disableDrag","navigation","pagination","B","update","V","previous","next","keyCode","H","R","X","Y","U","J","K","hasOwnProperty","clearTimeout","setTimeout","Q","Z","tt","it","st","layoutIndex","et","ot","at","nt","rt","loop","ht","observedAttributes","Number","isFinite","slidesPerView","dispatchEvent","CustomEvent","bubbles","styleSubtree","reducedMotion","autoFocus","requestAnimationFrame","getBoundingClientRect","width","ct","lt","test","getComputedStyle","getPropertyValue","trim","console","warn","element","style","setProperty","dt","find","ut","position","mt","gt","focus","assignedNodes","removeChild","createDocumentFragment","textContent","classList","add","remove","pt","disabled","flatten","nodeType","Node","TEXT_NODE","parentNode","filter","ELEMENT_NODE","bt","vt","wt","preventDefault","ft","kt","now","time","shift","xt","slice","yt","MacroCarouselButton","getPrototypeOf","constructor","template","_t","St","Array","clickedImg","printLayout","el","FileURL","Description","handleImageClick","$modal","renderRoot","source","toggleOpen","SiteDetails","siteinfo","pdfpanel","pdfsrc","genId","memo","renderTable","entries","includes","router","link","fireTogglePrint","fireClearSelection","handlePrint","print","on","params","MapControls","typePoints","qPoints","condPoints","normalPoints","fn","eventName","_fire","$input","myLabels","querySelectorAll","from","label","which","click","siteMap","Evented","_highlight","zoomControl","setView","Control","Zoom","addTo","basemaps","tileLayer","attribution","esri","basemapLayer","addControl","control","tileX","tileY","tileZ","featureLayer","pointToLayer","geoJsonPoint","latlon","weight","radius","propagatedFrom","fire","once","point","getPoint","setZoomAround","getLatLng","bringToFront","clearSelection","getHighlightPoint","setHighlightPoint","bringToBack","name","isVisible","invalidateSize","sidebar","pdfPanel","pdfDownload","details","siteData","deselectFeature","async","selectFeature","info","all","lookupPhotos","catch","lookupSketches","then","resolved","UIRouter","plugin","pushStateLocationPlugin","servicesPlugin","routes","urlService","rules","initial","state","otherwise","listen","sync","config","stateRegistry","register","setRoute","arguments","stateService","go","href","func","transitionService","onEnter","onExit","addRoute","trans","switchTab","setVisibility","attr","selectPoint","clearRoute","onEnterAll","start","updatePoints"],"mappings":"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"}